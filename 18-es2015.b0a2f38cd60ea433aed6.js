(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{ln4A:function(e,a,t){"use strict";t.r(a);var i=t("tyNb"),o=t("fXoL");class r{constructor(){this.name="",this.lastname="",this.ci="",this.email="",this.password="",this.roles=[],this.telefono="",this.fechaNacimiento=null,this.genero=null,this.direccion="",this.datos_paciente=null}}class n{constructor(){this.aislado_por=null,this.alergia_medicamentos="",this.tiene_diagnosticado_enfermedad="",this.es_diagnosticado_cancer=null,this.es_embarazada=null,this.esta_dando_lactar=null,this.fue_es_fumador=null,this.tiene_carnet_discapacidad=null,this.tiene_diabetes=null,this.tiene_presion_alta=null,this.familiares_cerco=null,this.id_seguimiento_inicial=""}}class c{constructor(){this.idHospital="",this.roles=[]}}class s{constructor(){this.firstName="",this.lastName="",this.email="",this.work="",this.street="",this.city="",this.state="",this.zip=""}clear(){this.firstName="",this.lastName="",this.email="",this.work="",this.street="",this.city="",this.state="",this.zip=""}}let l=(()=>{class e{constructor(){this.workflow=[{step:"personal",valid:!1},{step:"work",valid:!1},{step:"address",valid:!1},{step:"result",valid:!1}]}validateStep(e){for(var a=!1,t=0;t<this.workflow.length&&!a;t++)this.workflow[t].step===e&&(a=this.workflow[t].valid=!0)}resetSteps(){this.workflow.forEach(e=>{e.valid=!1})}getFirstInvalidStep(e){for(var a=!1,t=!0,i="",o=0;o<this.workflow.length&&!a&&t;o++){let r=this.workflow[o];r.step===e?(a=!0,i=""):(t=r.valid,i=r.step)}return i}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac}),e})();var b=t("748+");let d=(()=>{class e{constructor(e){this.workflowService=e,this.isDoctor=!1,this.formData=new s,this.isPersonalFormValid=!1,this.isWorkFormValid=!1,this.isAddressFormValid=!1,this.formDataPaciente=new n,this.formUserData=new r,this.hospitalRol=new c}setHospitalRol(e){this.hospitalRol.idHospital=e,this.hospitalRol.roles=[b.h.PACIENTE]}getHospitalRol(){return{idHospital:this.hospitalRol.idHospital,roles:this.hospitalRol.roles}}setIsDoctor(){this.isDoctor=!this.isDoctor}getDataUser(){return{name:this.formUserData.name,lastname:this.formUserData.lastname,telefono:this.formUserData.telefono,email:this.formUserData.email,password:this.formUserData.password,ci:this.formUserData.ci,fechaNacimiento:this.formUserData.fechaNacimiento,genero:this.formUserData.genero,roles:this.formUserData.roles,direccion:this.formUserData.direccion}}setUser(e){this.isPersonalFormValid=!0,this.formUserData.name=e.name,this.formUserData.lastname=e.lastname,this.formUserData.telefono=e.telefono,this.formUserData.email=e.email,this.formUserData.password=e.password,this.formUserData.ci=e.ci,this.formUserData.fechaNacimiento=e.fechaNacimiento,this.formUserData.genero=e.genero,this.formUserData.roles=[],this.formUserData.direccion=e.direccion,this.formUserData.datos_paciente=null,this.workflowService.validateStep("personal")}setPacienteHospital(e){this.formUserData.roles=[{idHospital:e,roles:[b.h.PACIENTE]}]}getDataPaciente(){return{aislado_por:this.formDataPaciente.aislado_por,alergia_medicamentos:this.formDataPaciente.alergia_medicamentos,es_diagnosticado_cancer:this.formDataPaciente.es_diagnosticado_cancer,es_embarazada:this.formDataPaciente.es_embarazada,esta_dando_lactar:this.formDataPaciente.esta_dando_lactar,familiares_cerco:this.formDataPaciente.familiares_cerco,fue_es_fumador:this.formDataPaciente.fue_es_fumador,tiene_carnet_discapacidad:this.formDataPaciente.tiene_carnet_discapacidad,tiene_diabetes:this.formDataPaciente.tiene_diabetes,tiene_diagnosticado_enfermedad:this.formDataPaciente.tiene_diagnosticado_enfermedad,tiene_presion_alta:this.formDataPaciente.tiene_presion_alta}}setDataPaciente(e){this.formDataPaciente.aislado_por=e.aislado_por,this.formDataPaciente.alergia_medicamentos=e.alergia_medicamentos,this.formDataPaciente.es_diagnosticado_cancer=e.es_diagnosticado_cancer,this.formDataPaciente.es_embarazada=e.es_embarazada,this.formDataPaciente.esta_dando_lactar=e.esta_dando_lactar,this.formDataPaciente.familiares_cerco=e.familiares_cerco,this.formDataPaciente.fue_es_fumador=e.fue_es_fumador,this.formDataPaciente.tiene_carnet_discapacidad=e.tiene_carnet_discapacidad,this.formDataPaciente.tiene_diabetes=e.tiene_diabetes,this.formDataPaciente.tiene_diagnosticado_enfermedad=e.tiene_diagnosticado_enfermedad,this.formDataPaciente.tiene_presion_alta=e.tiene_presion_alta,this.isWorkFormValid=!0,this.workflowService.validateStep("work")}getPersonal(){return{firstName:this.formData.firstName,lastName:this.formData.lastName,email:this.formData.email}}setPersonal(e){this.isPersonalFormValid=!0,this.formData.firstName=e.firstName,this.formData.lastName=e.lastName,this.formData.email=e.email,this.workflowService.validateStep("personal")}getWork(){return this.formData.work}setWork(e){this.isWorkFormValid=!0,this.formData.work=e,this.workflowService.validateStep("work")}getAddress(){return{street:this.formData.street,city:this.formData.city,state:this.formData.state,zip:this.formData.zip}}setAddress(e){this.isAddressFormValid=!0,this.formData.street=e.street,this.formData.city=e.city,this.formData.state=e.state,this.formData.zip=e.zip,this.workflowService.validateStep("address")}getFormData(){return this.formData}resetFormData(){return this.workflowService.resetSteps(),this.formData.clear(),this.isPersonalFormValid=this.isWorkFormValid=this.isAddressFormValid=!1,this.formData}isFormValid(){return this.isPersonalFormValid&&this.isWorkFormValid&&this.isAddressFormValid}}return e.\u0275fac=function(a){return new(a||e)(o.dc(l))},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac}),e})();var m=t("ofXK");function u(e,a){if(1&e&&(o.Vb(0,"li",6),o.Vb(1,"a",14),o.Vb(2,"span",15),o.Qb(3,"i",16),o.Ub(),o.Ub(),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.sc("ngClass","Address"===e.page?"nav-link active":"nav-link")}}let f=(()=>{class e{constructor(e,a,t){this.router=e,this.formDataService=a,this.route=t,this.page="Personal"}ngOnInit(){this.router.events.subscribe(e=>{let a=this.route.root;for(;void 0!==a.children[0];)a=a.children[0];this.page=a.snapshot.data.title})}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(i.f),o.Pb(d),o.Pb(i.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["msw-navbar"]],decls:15,vars:4,consts:[[1,"wizard-navbar"],[1,"liner"],[1,"active","flex-fill"],["uiSrefActive","active","uiSref","personal","data-toggle","tab","title","personal",3,"ngClass"],[1,"round-tabs","one"],[1,"icon-user"],[1,"flex-fill"],["uiSrefActive","active","uiSref","work","data-toggle","tab","title","work",3,"ngClass"],[1,"round-tabs","two"],[1,"icon-briefcase"],["class","flex-fill",4,"ngIf"],["uiSrefActive","active","uiSref","result","data-toggle","tab","title","completed",3,"ngClass"],[1,"round-tabs","four"],[1,"icon-cursor"],["uiSrefActive","active","uiSref","address","data-toggle","tab","title","address",3,"ngClass"],[1,"round-tabs","three"],[1,"icon-location-pin"]],template:function(e,a){1&e&&(o.Vb(0,"ul",0),o.Qb(1,"div",1),o.Vb(2,"li",2),o.Vb(3,"a",3),o.Vb(4,"span",4),o.Qb(5,"i",5),o.Ub(),o.Ub(),o.Ub(),o.Vb(6,"li",6),o.Vb(7,"a",7),o.Vb(8,"span",8),o.Qb(9,"i",9),o.Ub(),o.Ub(),o.Ub(),o.Nc(10,u,4,1,"li",10),o.Vb(11,"li",6),o.Vb(12,"a",11),o.Vb(13,"span",12),o.Qb(14,"i",13),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Ab(3),o.sc("ngClass","Personal"===a.page?"nav-link active":"nav-link"),o.Ab(4),o.sc("ngClass","Work"===a.page?"nav-link active":"nav-link"),o.Ab(3),o.sc("ngIf",!a.formDataService.isDoctor),o.Ab(2),o.sc("ngClass","Result"===a.page?"nav-link active":"nav-link"))},directives:[m.m,m.o],styles:[""]}),e})(),p=(()=>{class e{constructor(e,a){this.router=e,this.route=a}ngOnInit(){this.router.navigate(["/authentication/signup/wizard"],{skipLocationChange:!0})}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(i.f),o.Pb(i.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["multi-step-wizard-app"]],decls:8,vars:0,consts:[["id","ngx"],[1,"card"],[1,"card-body"],[1,"card-block"],[1,"board"],[1,"tab-content"]],template:function(e,a){1&e&&(o.Vb(0,"section",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Vb(3,"div",3),o.Vb(4,"div",4),o.Qb(5,"msw-navbar"),o.Vb(6,"div",5),o.Qb(7,"router-outlet"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub())},directives:[f,i.k],styles:[".tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{padding-top:20px}.alert[_ngcontent-%COMP%]{padding:8px;margin-bottom:8px}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.card[_ngcontent-%COMP%]{padding:0 5rem 5rem}"]}),e})();var h=t("3Pt+"),g=t("UeRi");function v(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.name)}}function V(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.lastname)}}function U(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.email)}}function _(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.password)}}function P(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.ci)}}function C(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.fechaNacimiento)}}function F(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.genero)}}function k(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.telefono)}}function A(e,a){if(1&e&&(o.Vb(0,"small",27),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.direccion)}}const D={name:{required:"El nombre es obligatorio",minlength:"El nombre no puede tener menos de tres caracteres",maxlength:"M\xe1ximo 50 caracteres"},lastname:{required:"El apellido es obligatorio",minlength:"El apellido no puede tener menos de tres caracteres",maxlength:"M\xe1ximo 50 caracteres"},email:{required:"El correo es obligatorio",email:"El correo ingresado es inv\xe1lido",maxlength:"M\xe1ximo 50 caracteres"},password:{required:"La contrase\xf1a es obligatoria",minlength:"La contrase\xf1a no puede tener menos de 6 caracteres",maxlength:"M\xe1ximo 25 caracteres"},ci:{required:"El n\xfamero de c\xe9dula es obligatorio",minlength:"La c\xe9dula o pasaporte tienen al menos 10 caracteres",pattern:"S\xf3lo se admiten n\xfameros",maxlength:"M\xe1ximo 12 caracteres"},telefono:{maxlength:"M\xe1ximo 10 caracteres",minlength:"M\xednimo 7 caracteres",pattern:"S\xf3lo se admiten n\xfameros"},fechaNacimiento:{required:"La fecha de nacimiento es obligatoria "},genero:{required:"El g\xe9nero es obligatorio"},direccion:{maxlength:"M\xe1ximo 200 caracteres"}};let N=(()=>{class e extends g.a{constructor(e,a,t,i,o){super(Object.assign({},D)),this.router=e,this.route=a,this.formDataService=t,this.workflowService=i,this.fb=o,this.MASCULINO=b.l.M,this.FEMENINO=b.l.F,this.PREFIERO_NO_DECIRLO=b.l.PREFIERO_NO_DECIRLO,this.title="Por favor ingrese sus datos de contacto."}ngOnInit(){this.initForm(),this.personal=this.formDataService.getPersonal()}initForm(){let e=this.formDataService.getDataUser();this.signupForm=this.fb.group({name:[e.name,[h.B.required,h.B.minLength(3),h.B.maxLength(50)]],lastname:[e.lastname,[h.B.required,h.B.minLength(3),h.B.maxLength(50)]],email:[e.email,[h.B.required,h.B.email,h.B.maxLength(50)]],password:[e.password,[h.B.required,h.B.minLength(6),h.B.maxLength(25)]],ci:[e.ci,[h.B.required,h.B.minLength(10),h.B.maxLength(12),h.B.pattern("^[0-9]*$")]],telefono:[e.telefono,[h.B.minLength(7),h.B.maxLength(10),h.B.pattern("^[0-9]*$")]],fechaNacimiento:[e.fechaNacimiento,[h.B.required]],genero:[e.genero,[h.B.required]],direccion:[e.direccion,[h.B.maxLength(200)]]})}onSubmit(){if(console.log(this.signupForm.value),!this.signupForm.valid)return alert("Datos inrrectos"),!1;this.formDataService.setUser(this.signupForm.value),this.router.navigateByUrl("/authentication/signup/work",{relativeTo:this.route.parent,skipLocationChange:!0})}save(e){e.valid&&(this.formDataService.setPersonal(this.personal),this.router.navigateByUrl("/authentication/signup/work",{relativeTo:this.route.parent,skipLocationChange:!0}))}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(i.f),o.Pb(i.a),o.Pb(d),o.Pb(l),o.Pb(h.f))},e.\u0275cmp=o.Jb({type:e,selectors:[["mt-wizard-personal"]],features:[o.xb],decls:78,vars:15,consts:[[1,"tab-pane","active"],[1,"font-medium-2","text-center"],[1,"form-horizontal","m-t-20",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-group"],["for","firstname",1,"form-control-label"],["placeholder","Nombres","type","text","formControlName","name",1,"form-control","input-md",3,"blur"],["class","form-text text-muted danger",4,"ngIf"],["for","lastname",1,"form-control-label"],["formControlName","lastname","type","text","placeholder","Apellidos",1,"form-control","input-md",3,"blur"],["formControlName","email","type","text","placeholder","Correo",1,"form-control","input-md",3,"blur"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control","input-md",3,"blur"],["formControlName","ci","type","text","placeholder","C\xe9dula o pasaporte",1,"form-control","input-md",3,"blur"],["formControlName","fechaNacimiento","type","date","placeholder","Fecha de nacimiento",1,"form-control","input-md",3,"blur"],[1,"form-check"],["type","radio","id","materialUnchecked2","formControlName","genero","name","genero",1,"form-check-input",3,"value","blur"],["for","materialUnchecked2",1,"form-check-label"],["type","radio","id","materialChecked2","formControlName","genero","name","genero",1,"form-check-input",3,"value","blur"],["for","materialChecked2",1,"form-check-label"],["type","radio","id","materialChecked3","formControlName","genero","name","genero",1,"form-check-input",3,"value","blur"],["for","materialChecked3",1,"form-check-label"],["formControlName","telefono","type","text","placeholder","Tel\xe9fono",1,"form-control","input-md",3,"blur"],[1,"col-12"],["type","text","formControlName","direccion","placeholder","Direcci\xf3n",1,"form-control","input-md",3,"blur"],[1,"form-group","text-center"],["type","submit","uiSref","work",1,"btn","btn-success","btn-raised",3,"disabled"],[1,"form-text","text-muted","danger"]],template:function(e,a){1&e&&(o.Vb(0,"div",0),o.Vb(1,"p",1),o.Pc(2),o.Ub(),o.Qb(3,"br"),o.Vb(4,"form",2),o.hc("ngSubmit",(function(e){return a.onSubmit()})),o.Vb(5,"div",3),o.Vb(6,"div",4),o.Vb(7,"div",5),o.Vb(8,"label",6),o.Pc(9,"Nombres"),o.Ub(),o.Vb(10,"input",7),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(11,v,2,1,"small",8),o.Ub(),o.Ub(),o.Vb(12,"div",4),o.Vb(13,"div",5),o.Vb(14,"label",9),o.Pc(15,"Apellidos"),o.Ub(),o.Vb(16,"input",10),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(17,V,2,1,"small",8),o.Ub(),o.Ub(),o.Ub(),o.Vb(18,"div",3),o.Vb(19,"div",4),o.Vb(20,"div",5),o.Vb(21,"label",6),o.Pc(22,"Email"),o.Ub(),o.Vb(23,"input",11),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(24,U,2,1,"small",8),o.Ub(),o.Ub(),o.Vb(25,"div",4),o.Vb(26,"div",5),o.Vb(27,"label",9),o.Pc(28,"Contrase\xf1a"),o.Ub(),o.Vb(29,"input",12),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(30,_,2,1,"small",8),o.Ub(),o.Ub(),o.Ub(),o.Vb(31,"div",3),o.Vb(32,"div",4),o.Vb(33,"div",5),o.Vb(34,"label",6),o.Pc(35,"C\xe9dula"),o.Ub(),o.Vb(36,"input",13),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(37,P,2,1,"small",8),o.Ub(),o.Ub(),o.Vb(38,"div",4),o.Vb(39,"div",5),o.Vb(40,"label",9),o.Pc(41,"Fecha de nacimiento"),o.Ub(),o.Vb(42,"input",14),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(43,C,2,1,"small",8),o.Ub(),o.Ub(),o.Ub(),o.Vb(44,"div",3),o.Vb(45,"div",4),o.Vb(46,"div",5),o.Vb(47,"label",6),o.Pc(48,"G\xe9nero"),o.Ub(),o.Vb(49,"div",15),o.Vb(50,"input",16),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Vb(51,"label",17),o.Pc(52,"Masculino"),o.Ub(),o.Ub(),o.Vb(53,"div",15),o.Vb(54,"input",18),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Vb(55,"label",19),o.Pc(56,"Femenino"),o.Ub(),o.Ub(),o.Vb(57,"div",15),o.Vb(58,"input",20),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Vb(59,"label",21),o.Pc(60,"Prefiero no decirlo"),o.Ub(),o.Ub(),o.Nc(61,F,2,1,"small",8),o.Ub(),o.Ub(),o.Vb(62,"div",4),o.Vb(63,"div",5),o.Vb(64,"label",9),o.Pc(65,"Tel\xe9fono"),o.Ub(),o.Vb(66,"input",22),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(67,k,2,1,"small",8),o.Ub(),o.Ub(),o.Ub(),o.Vb(68,"div",3),o.Vb(69,"div",23),o.Vb(70,"div",5),o.Vb(71,"label",6),o.Pc(72,"Direcci\xf3n"),o.Ub(),o.Vb(73,"input",24),o.hc("blur",(function(e){return a.logValidationErrors(a.signupForm)})),o.Ub(),o.Nc(74,A,2,1,"small",8),o.Ub(),o.Ub(),o.Ub(),o.Vb(75,"div",25),o.Vb(76,"button",26),o.Pc(77," Siguiente "),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Ab(2),o.Qc(a.title),o.Ab(2),o.sc("formGroup",a.signupForm),o.Ab(7),o.sc("ngIf",a.formsErrors.name),o.Ab(6),o.sc("ngIf",a.formsErrors.lastname),o.Ab(7),o.sc("ngIf",a.formsErrors.email),o.Ab(6),o.sc("ngIf",a.formsErrors.password),o.Ab(7),o.sc("ngIf",a.formsErrors.ci),o.Ab(6),o.sc("ngIf",a.formsErrors.fechaNacimiento),o.Ab(7),o.sc("value",a.MASCULINO),o.Ab(4),o.sc("value",a.FEMENINO),o.Ab(4),o.sc("value",a.PREFIERO_NO_DECIRLO),o.Ab(3),o.sc("ngIf",a.formsErrors.genero),o.Ab(6),o.sc("ngIf",a.formsErrors.telefono),o.Ab(7),o.sc("ngIf",a.formsErrors.direccion),o.Ab(2),o.sc("disabled",a.signupForm.invalid))},directives:[h.D,h.r,h.k,h.b,h.q,h.i,m.o,h.x],styles:[".ng-untouched[_ngcontent-%COMP%]{border-color:#f5f5f5!important}.ng-valid[_ngcontent-%COMP%]{border-color:#06d79c!important}"]}),e})();function E(e,a){if(1&e&&(o.Vb(0,"option",61),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e),o.Ab(1),o.Qc(e)}}function S(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.aislado_por)}}function w(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.alergia_medicamentos)}}function y(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.es_diagnosticado_cancer)}}function I(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.es_embarazada)}}function x(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.esta_dando_lactar)}}function O(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.familiares_cerco)}}function L(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.fue_es_fumador)}}function q(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.tiene_carnet_discapacidad)}}function B(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.tiene_diabetes)}}function Q(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.tiene_presion_alta)}}function z(e,a){if(1&e&&(o.Vb(0,"small",62),o.Pc(1),o.Ub()),2&e){const e=o.lc(2);o.Ab(1),o.Qc(e.formsErrors.tiene_diagnosticado_enfermedad)}}function H(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"div",3),o.Vb(2,"div",15),o.Vb(3,"div",16),o.Vb(4,"label",17),o.Pc(5,"Aislado por"),o.Ub(),o.Vb(6,"select",18),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Nc(7,E,2,2,"option",19),o.Ub(),o.Nc(8,S,2,1,"small",20),o.Ub(),o.Ub(),o.Vb(9,"div",15),o.Vb(10,"div",16),o.Vb(11,"label",21),o.Pc(12,"\xbfTiene alergia a alg\xfan medicamento?"),o.Ub(),o.Vb(13,"textarea",22),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Pc(14,"                        "),o.Ub(),o.Nc(15,w,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Vb(16,"div",3),o.Vb(17,"div",15),o.Vb(18,"div",16),o.Vb(19,"label",23),o.Pc(20,"\xbfTiene c\xe1ncer?"),o.Ub(),o.Vb(21,"div",24),o.Vb(22,"input",25),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(23,"label",26),o.Pc(24,"S\xed"),o.Ub(),o.Ub(),o.Vb(25,"div",24),o.Vb(26,"input",27),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(27,"label",28),o.Pc(28,"No"),o.Ub(),o.Ub(),o.Nc(29,y,2,1,"small",20),o.Ub(),o.Ub(),o.Vb(30,"div",15),o.Vb(31,"div",16),o.Vb(32,"label",29),o.Pc(33,"\xbfEst\xe1 embarazada?"),o.Ub(),o.Vb(34,"div",24),o.Vb(35,"input",30),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(36,"label",31),o.Pc(37,"S\xed"),o.Ub(),o.Ub(),o.Vb(38,"div",24),o.Vb(39,"input",32),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(40,"label",33),o.Pc(41,"No"),o.Ub(),o.Ub(),o.Nc(42,I,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Vb(43,"div",3),o.Vb(44,"div",15),o.Vb(45,"div",16),o.Vb(46,"label",34),o.Pc(47,"\xbfEst\xe1 dando de lactar?"),o.Ub(),o.Vb(48,"div",24),o.Vb(49,"input",35),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(50,"label",36),o.Pc(51,"S\xed"),o.Ub(),o.Ub(),o.Vb(52,"div",24),o.Vb(53,"input",37),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(54,"label",33),o.Pc(55,"No"),o.Ub(),o.Ub(),o.Nc(56,x,2,1,"small",20),o.Ub(),o.Ub(),o.Vb(57,"div",15),o.Vb(58,"div",16),o.Vb(59,"label",29),o.Pc(60,"\xbfN\xfamero de familiares en cerco epidemiol\xf3gico?"),o.Ub(),o.Vb(61,"input",38),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Nc(62,O,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Vb(63,"div",3),o.Vb(64,"div",15),o.Vb(65,"div",16),o.Vb(66,"label",39),o.Pc(67,"\xbfFue o es Fumador?"),o.Ub(),o.Vb(68,"div",24),o.Vb(69,"input",40),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(70,"label",41),o.Pc(71,"S\xed"),o.Ub(),o.Ub(),o.Vb(72,"div",24),o.Vb(73,"input",42),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(74,"label",43),o.Pc(75,"No"),o.Ub(),o.Ub(),o.Nc(76,L,2,1,"small",20),o.Ub(),o.Ub(),o.Vb(77,"div",15),o.Vb(78,"div",16),o.Vb(79,"label",44),o.Pc(80,"\xbfTiene carnet de discapacidad?"),o.Ub(),o.Vb(81,"div",24),o.Vb(82,"input",45),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(83,"label",46),o.Pc(84,"S\xed"),o.Ub(),o.Ub(),o.Vb(85,"div",24),o.Vb(86,"input",47),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(87,"label",48),o.Pc(88,"No"),o.Ub(),o.Ub(),o.Nc(89,q,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Vb(90,"div",3),o.Vb(91,"div",15),o.Vb(92,"div",16),o.Vb(93,"label",49),o.Pc(94,"\xbfTiene diabetes?"),o.Ub(),o.Vb(95,"div",24),o.Vb(96,"input",50),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(97,"label",51),o.Pc(98,"S\xed"),o.Ub(),o.Ub(),o.Vb(99,"div",24),o.Vb(100,"input",52),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(101,"label",53),o.Pc(102,"No"),o.Ub(),o.Ub(),o.Nc(103,B,2,1,"small",20),o.Ub(),o.Ub(),o.Vb(104,"div",15),o.Vb(105,"div",16),o.Vb(106,"label",54),o.Pc(107,"\xbfTiene la presion alta?"),o.Ub(),o.Vb(108,"div",24),o.Vb(109,"input",55),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(110,"label",56),o.Pc(111,"S\xed"),o.Ub(),o.Ub(),o.Vb(112,"div",24),o.Vb(113,"input",57),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Vb(114,"label",58),o.Pc(115,"No"),o.Ub(),o.Ub(),o.Nc(116,Q,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Vb(117,"div",3),o.Vb(118,"div",4),o.Vb(119,"div",16),o.Vb(120,"label",59),o.Pc(121,"\xbfTiene alguna enfermedad?"),o.Ub(),o.Vb(122,"input",60),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.pacienteForm)})),o.Ub(),o.Nc(123,z,2,1,"small",20),o.Ub(),o.Ub(),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(7),o.sc("ngForOf",e.instituciones),o.Ab(1),o.sc("ngIf",e.formsErrors.aislado_por),o.Ab(7),o.sc("ngIf",e.formsErrors.alergia_medicamentos),o.Ab(7),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.es_diagnosticado_cancer),o.Ab(6),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.es_embarazada),o.Ab(7),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.esta_dando_lactar),o.Ab(6),o.sc("ngIf",e.formsErrors.familiares_cerco),o.Ab(7),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.fue_es_fumador),o.Ab(6),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.tiene_carnet_discapacidad),o.Ab(7),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.tiene_diabetes),o.Ab(6),o.sc("value",!0),o.Ab(4),o.sc("value",!1),o.Ab(3),o.sc("ngIf",e.formsErrors.tiene_presion_alta),o.Ab(7),o.sc("ngIf",e.formsErrors.tiene_diagnosticado_enfermedad)}}function M(e,a){if(1&e&&(o.Vb(0,"button",63),o.Pc(1,"Siguiente"),o.Ub()),2&e){const e=o.lc();o.sc("disabled",e.pacienteForm.invalid)}}function T(e,a){1&e&&(o.Vb(0,"button",64),o.Pc(1,"Siguiente"),o.Ub())}const R={aislado_por:{required:"Campo obligatorio"},alergia_medicamentos:{required:"Campo obligatorio"},es_diagnosticado_cancer:{required:"Campo obligatorio"},es_embarazada:{required:"Campo obligatorio"},esta_dando_lactar:{required:"Campo obligatorio"},familiares_cerco:{required:"Campo obligatorio",pattern:"Formato inv\xe1lido",max:"Es un n\xfamero muy alto para ser v\xe1lido"},fue_es_fumador:{required:"Campo obligatorio"},tiene_carnet_discapacidad:{required:"Campo obligatorio"},tiene_diabetes:{required:"Campo obligatorio"},tiene_diagnosticado_enfermedad:{required:"Campo obligatorio"},tiene_presion_alta:{required:"Campo obligatorio"}};let $=(()=>{class e extends g.a{constructor(e,a,t,i,o){super(Object.assign({},R)),this.router=e,this.fb=a,this.route=t,this.formDataService=i,this.workflowService=o,this.title="\xbfQuiere registrarse como m\xe9dico?",this.instituciones=[b.k.IESS,b.k.ISSFA,b.k.ISSPOL,b.k.MPS,b.k.PRIVADO]}ngOnInit(){this.workType=this.formDataService.getWork(),this.initForm()}onSubmit(){if(this.formDataService.isDoctor)this.router.navigate(["result"],{relativeTo:this.route.parent,skipLocationChange:!0});else{if(this.pacienteForm.invalid)return alert("datos inconrrectos"),!1;this.formDataService.setDataPaciente(Object.assign(Object.assign({},this.pacienteForm.value),{familiares_cerco:parseInt(this.pacienteForm.get("familiares_cerco").value)})),this.router.navigate(["address"],{relativeTo:this.route.parent,skipLocationChange:!0})}}save(e){e.valid&&(this.formDataService.setWork(this.workType),this.workflowService.getFirstInvalidStep("work"),this.router.navigate(["address"],{relativeTo:this.route.parent,skipLocationChange:!0}))}cancel(){this.router.navigate(["wizard"],{relativeTo:this.route.parent,skipLocationChange:!0})}initForm(){let e=this.formDataService.getDataPaciente();this.pacienteForm=this.fb.group({isDoctor:this.formDataService.isDoctor,aislado_por:[e.aislado_por,[h.B.required]],alergia_medicamentos:[e.alergia_medicamentos,[h.B.required]],es_diagnosticado_cancer:[e.es_diagnosticado_cancer,[h.B.required]],es_embarazada:[e.es_embarazada,[h.B.required]],esta_dando_lactar:[e.esta_dando_lactar,[h.B.required]],familiares_cerco:[e.familiares_cerco,[h.B.required,h.B.pattern("^[0-9]*$"),h.B.max(100)]],fue_es_fumador:[e.fue_es_fumador,[h.B.required]],tiene_carnet_discapacidad:[e.tiene_carnet_discapacidad,[h.B.required]],tiene_diabetes:[e.tiene_diabetes,[h.B.required]],tiene_diagnosticado_enfermedad:[e.tiene_diagnosticado_enfermedad,[h.B.required]],tiene_presion_alta:[e.tiene_presion_alta,[h.B.required]]})}onCheckboxChangeMedico(e){this.formDataService.setIsDoctor()}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(i.f),o.Pb(h.f),o.Pb(i.a),o.Pb(d),o.Pb(l))},e.\u0275cmp=o.Jb({type:e,selectors:[["mt-wizard-work"]],features:[o.xb],decls:20,vars:5,consts:[[1,"form-horizontal","m-t-20",3,"formGroup","ngSubmit"],[1,"tab-pane","active"],[1,"head","text-center"],[1,"row"],[1,"col-12"],[1,"form-group","row"],[1,"col-md-12"],[1,"custom-control","custom-checkbox"],["type","checkbox","formControlName","isDoctor","id","customCheck2",1,"custom-control-input",3,"change"],["for","customCheck2",1,"custom-control-label"],[4,"ngIf"],[1,"form-group","text-center","space-20"],["uiSref","personal","type","button",1,"btn","btn-raised","btn-secondary","mr-1",3,"click"],["uiSref","address","type","submit","class","btn btn-raised btn-info",3,"disabled",4,"ngIf"],["uiSref","address","type","submit","class","btn btn-raised btn-info",4,"ngIf"],[1,"col-12","col-sm-6"],[1,"form-group"],["for","aislado_por",1,"form-control-label"],["type","text","formControlName","aislado_por","placeholder","Aislado por",1,"form-control","input-md",3,"blur"],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-muted danger",4,"ngIf"],["for","alergia_medicamentos",1,"form-control-label"],["formControlName","alergia_medicamentos","placeholder","\xbfTiene alergia a alg\xfan medicamentos?",1,"form-control","input-md",3,"blur"],["for","es_diagnosticado_cancer",1,"form-control-label"],[1,"form-check"],["type","radio","id","es_diagnosticado_cancer","formControlName","es_diagnosticado_cancer","name","es_diagnosticado_cancer",1,"form-check-input",3,"value","blur"],["for","es_diagnosticado_cancer",1,"form-check-label"],["type","radio","id","es_diagnosticado_cancer2","formControlName","es_diagnosticado_cancer","name","es_diagnosticado_cancer",1,"form-check-input",3,"value","blur"],["for","es_diagnosticado_cancer2",1,"form-check-label"],["for","materialUnchecked2",1,"form-control-label"],["type","radio","id","materialUnchecked2","formControlName","es_embarazada","name","es_embarazada",1,"form-check-input",3,"value","blur"],["for","materialUnchecked2",1,"form-check-label"],["type","radio","id","materialChecked2","formControlName","es_embarazada","name","es_embarazada",1,"form-check-input",3,"value","blur"],["for","materialChecked2 ",1,"form-check-label"],["for","esta_dando_lactar",1,"form-control-label"],["type","radio","id","esta_dando_lactar","formControlName","esta_dando_lactar","name","esta_dando_lactar",1,"form-check-input",3,"value","blur"],["for","esta_dando_lactar",1,"form-check-label"],["type","radio","id","materialChecked2","formControlName","esta_dando_lactar","name","esta_dando_lactar",1,"form-check-input",3,"value","blur"],["type","text","formControlName","familiares_cerco","placeholder","N\xfamero de familiares en cerco",1,"form-control",3,"blur"],["for","fue_es_fumador",1,"form-control-label"],["type","radio","id","fue_es_fumador","formControlName","fue_es_fumador","name","fue_es_fumador",1,"form-check-input",3,"value","blur"],["for","fue_es_fumador",1,"form-check-label"],["type","radio","id","fue_es_fumador2","formControlName","fue_es_fumador","name","fue_es_fumador",1,"form-check-input",3,"value","blur"],["for","fue_es_fumador2",1,"form-check-label"],["for","tiene_carnet_discapacidad",1,"form-control-label"],["type","radio","id","tiene_carnet_discapacidad","formControlName","tiene_carnet_discapacidad","name","tiene_carnet_discapacidad",1,"form-check-input",3,"value","blur"],["for","tiene_carnet_discapacidad",1,"form-check-label"],["type","radio","id","tiene_carnet_discapacidad2","formControlName","tiene_carnet_discapacidad","name","tiene_carnet_discapacidad",1,"form-check-input",3,"value","blur"],["for","tiene_carnet_discapacidad2",1,"form-check-label"],["for","tiene_diabetes",1,"form-control-label"],["type","radio","id","tiene_diabetes","formControlName","tiene_diabetes","name","tiene_diabetes",1,"form-check-input",3,"value","blur"],["for","tiene_diabetes",1,"form-check-label"],["type","radio","id","tiene_diabetes2","formControlName","tiene_diabetes","name","tiene_diabetes",1,"form-check-input",3,"value","blur"],["for","tiene_diabetes2",1,"form-check-label"],["for","tiene_presion_alta",1,"form-control-label"],["type","radio","id","tiene_presion_alta","formControlName","tiene_presion_alta","name","tiene_presion_alta",1,"form-check-input",3,"value","blur"],["for","tiene_presion_alta",1,"form-check-label"],["type","radio","id","tiene_presion_alta2","formControlName","tiene_presion_alta","name","tiene_presion_alta",1,"form-check-input",3,"value","blur"],["for","tiene_presion_alta2",1,"form-check-label"],[1,"form-control-label"],["type","text","formControlName","tiene_diagnosticado_enfermedad","placeholder","\xbfTiene alguna enfermedad?",1,"form-control","input-md",3,"blur"],[3,"value"],[1,"form-text","text-muted","danger"],["uiSref","address","type","submit",1,"btn","btn-raised","btn-info",3,"disabled"],["uiSref","address","type","submit",1,"btn","btn-raised","btn-info"]],template:function(e,a){1&e&&(o.Vb(0,"form",0),o.hc("ngSubmit",(function(e){return a.onSubmit()})),o.Vb(1,"div"),o.Vb(2,"div",1),o.Vb(3,"h4",2),o.Pc(4),o.Ub(),o.Qb(5,"br"),o.Vb(6,"div",3),o.Vb(7,"div",4),o.Vb(8,"div",5),o.Vb(9,"div",6),o.Vb(10,"div",7),o.Vb(11,"input",8),o.hc("change",(function(e){return a.onCheckboxChangeMedico(e)})),o.Ub(),o.Vb(12,"label",9),o.Pc(13,"Registrarme como m\xe9dico"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Nc(14,H,124,26,"ng-container",10),o.Vb(15,"div",11),o.Vb(16,"button",12),o.hc("click",(function(e){return a.cancel()})),o.Pc(17,"Atr\xe1s"),o.Ub(),o.Nc(18,M,2,1,"button",13),o.Nc(19,T,2,0,"button",14),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.sc("formGroup",a.pacienteForm),o.Ab(4),o.Qc(a.title),o.Ab(10),o.sc("ngIf",!a.formDataService.isDoctor),o.Ab(4),o.sc("ngIf",!a.formDataService.isDoctor),o.Ab(1),o.sc("ngIf",a.formDataService.isDoctor))},directives:[h.D,h.r,h.k,h.a,h.q,h.i,m.o,h.A,m.n,h.b,h.x,h.u,h.C],styles:[".ng-untouched[_ngcontent-%COMP%]{border-color:#f5f5f5!important}.ng-valid[_ngcontent-%COMP%]{border-color:#06d79c!important}"]}),e})();var W=t("XNiG"),j=t("FHFX"),G=t("1G5W");function J(e,a){if(1&e&&(o.Vb(0,"option",25),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e._id),o.Ab(1),o.Qc(e.nombre)}}function X(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"select",22,23),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.hospitalForm)}))("change",(function(a){o.Fc(e);const t=o.Cc(2);return o.lc().onChangeProvince(t.value)})),o.Nc(3,J,2,2,"option",24),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(3),o.sc("ngForOf",e.provincias)}}function K(e,a){1&e&&(o.Vb(0,"div"),o.Pc(1,"Cargando Provincias..."),o.Ub())}function Y(e,a){if(1&e&&(o.Vb(0,"option",25),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e._id),o.Ab(1),o.Qc(e.nombre)}}function Z(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"select",26,27),o.hc("change",(function(a){o.Fc(e);const t=o.Cc(2);return o.lc().onChangeCanton(t.value)}))("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.hospitalForm)})),o.Nc(3,Y,2,2,"option",24),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(3),o.sc("ngForOf",e.cantones)}}function ee(e,a){1&e&&(o.Vb(0,"div"),o.Pc(1,"Cargando cantones..."),o.Ub())}function ae(e,a){if(1&e&&(o.Vb(0,"option",25),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e._id),o.Ab(1),o.Qc(e.nombre)}}function te(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"select",28,29),o.hc("change",(function(a){o.Fc(e);const t=o.Cc(2);return o.lc().onChangeParroquia(t.value)}))("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.hospitalForm)})),o.Nc(3,ae,2,2,"option",24),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(3),o.sc("ngForOf",e.parroquias)}}function ie(e,a){1&e&&(o.Vb(0,"div"),o.Pc(1,"Cargando parroquias..."),o.Ub())}function oe(e,a){if(1&e&&(o.Vb(0,"option",25),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e._id),o.Ab(1),o.Qc(e.nombre)}}function re(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"select",30,31),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.hospitalForm)}))("change",(function(a){o.Fc(e);const t=o.Cc(2);return o.lc().onChangeBarrio(t.value)})),o.Nc(3,oe,2,2,"option",24),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(3),o.sc("ngForOf",e.barrios)}}function ne(e,a){1&e&&(o.Vb(0,"div"),o.Pc(1,"Cargando barrios..."),o.Ub())}function ce(e,a){if(1&e&&(o.Vb(0,"option",25),o.Pc(1),o.Ub()),2&e){const e=a.$implicit;o.sc("value",e._id),o.Ab(1),o.Qc(e.nombre)}}function se(e,a){if(1&e){const e=o.Wb();o.Tb(0),o.Vb(1,"select",32,33),o.hc("blur",(function(a){o.Fc(e);const t=o.lc();return t.logValidationErrors(t.hospitalForm)}))("change",(function(a){o.Fc(e);const t=o.Cc(2);return o.lc().onChangeHospital(t.value)})),o.Nc(3,ce,2,2,"option",24),o.Ub(),o.Sb()}if(2&e){const e=o.lc();o.Ab(3),o.sc("ngForOf",e.hospitales)}}function le(e,a){1&e&&(o.Vb(0,"div"),o.Pc(1,"Cargando lugares de atenci\xf3n..."),o.Ub())}function be(e,a){if(1&e&&(o.Vb(0,"small",34),o.Pc(1),o.Ub()),2&e){const e=o.lc();o.Ab(1),o.Qc(e.formsErrors.idHospital)}}const de={idHospital:{required:"Campo obligatorio"}};let me=(()=>{class e extends g.a{constructor(e,a,t,i,o,r){super(Object.assign({},de)),this.router=e,this.fb=a,this._mainFacade=t,this.route=i,this.formDataService=o,this.workflowService=r,this.title="Elija un lugar cerca a su domicilo para que un doctor est\xe9 pendiente de usted",this._destroyed$=new W.a}ngOnInit(){this.address=this.formDataService.getAddress(),this._mainFacade.getProvinciasFromStorage().pipe(Object(G.a)(this._destroyed$)).subscribe(e=>this.provincias=e),this._mainFacade.getCantonesFromStorage().pipe(Object(G.a)(this._destroyed$)).subscribe(e=>this.cantones=e),this._mainFacade.getParroquiasFromStorage().pipe(Object(G.a)(this._destroyed$)).subscribe(e=>this.parroquias=e),this._mainFacade.getBarriosFromStorage().pipe(Object(G.a)(this._destroyed$)).subscribe(e=>this.barrios=e),this._mainFacade.getHospitales().pipe(Object(G.a)(this._destroyed$)).subscribe(e=>this.hospitales=e),this._mainFacade.dispatchActionLoadHospitales({}),this.isLoadingProvincias$=this._mainFacade.getIsLoadingProvinciasFromStorage(),this.isLoadingCantones$=this._mainFacade.getIsLoadingCantones(),this.isLoadingParroquias$=this._mainFacade.getIsLoadingParroquias(),this.isLoadingBarrios$=this._mainFacade.getIsLoadingBarrios(),this.isLoadingHospitales$=this._mainFacade.getLoadingHospitales(),this.loadProvinces(),this.initForm()}onSubmit(){if(this.hospitalForm.invalid)return alert("datos incorrectos"),!1;this.formDataService.setPacienteHospital(this.hospitalForm.get("idHospital").value),this.router.navigate(["result"],{relativeTo:this.route.parent,skipLocationChange:!0})}initForm(){this.hospitalForm=this.fb.group({idHospital:["",[h.B.required]],provincia:"",canton:"",parroquia:"",barrio:""})}save(e){e.valid?(this.formDataService.setPacienteHospital(this.hospitalForm.get("idHospital").value),this.router.navigate(["result"],{relativeTo:this.route.parent,skipLocationChange:!0})):alert("Eliga un lugar de atenci\xf3n")}cancel(){this.router.navigate(["work"],{relativeTo:this.route.parent,skipLocationChange:!0})}loadProvinces(){this._mainFacade.distatchActionLoadEspacios(b.d.PROVINCIA,{tipo:b.d.PROVINCIA})}onChangeProvince(e){this.hospitalForm.patchValue({canton:null,parroquia:null,barrio:null,idHospital:null}),e&&(this._mainFacade.distatchActionLoadEspacios(b.d.CANTON,{idEspacioPadre:e}),this._mainFacade.dispatchActionLoadHospitales({idEspacio:e}))}onChangeCanton(e){this.hospitalForm.patchValue({parroquia:null,barrio:null,idHospital:null}),e&&(this._mainFacade.distatchActionLoadEspacios(b.d.PARROQUIA,{idEspacioPadre:e}),this._mainFacade.dispatchActionLoadHospitales({idEspacio:e}))}onChangeParroquia(e){this.hospitalForm.patchValue({barrio:null,idHospital:null}),e&&(this._mainFacade.distatchActionLoadEspacios(b.d.BARRIO,{idEspacioPadre:e}),this._mainFacade.dispatchActionLoadHospitales({idEspacio:e}))}onChangeBarrio(e){this.hospitalForm.patchValue({idHospital:null}),e&&this._mainFacade.dispatchActionLoadHospitales({idEspacio:e})}onChangeHospital(e){}loadHospital(e){this._mainFacade.dispatchActionLoadHospitales({idEspacio:e})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(i.f),o.Pb(h.f),o.Pb(j.a),o.Pb(i.a),o.Pb(d),o.Pb(l))},e.\u0275cmp=o.Jb({type:e,selectors:[["mt-wizard-address"]],features:[o.xb],decls:53,vars:24,consts:[[3,"formGroup","ngSubmit"],[1,"tab-pane","active"],[1,"head","text-center"],[1,"row"],[1,"col-12","col-sm-3"],[1,"form-group"],["for","city",1,"form-control-label"],[4,"ngIf","ngIfElse"],["loadingProv",""],[1,"col-4","col-sm-3"],["for","state",1,"form-control-label"],["loadingCan",""],["for","zip",1,"form-control-label"],["loadingParr",""],["loadingBarr",""],[1,"col-12"],["for","idHospital",1,"form-control-label"],["loadingHosp",""],["class","form-text text-muted danger",4,"ngIf"],[1,"form-group","text-center"],["uiSref","work","type","button",1,"btn","btn-raised","btn-secondary","mr-1",3,"click"],["uiSref","result","type","submit",1,"btn","btn-raised","btn-info",3,"disabled"],["placeholder","Selecione una provincia","formControlName","provincia",1,"form-control","input-md",3,"blur","change"],["selectProv",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Selecione un cant\xf3n","formControlName","canton",1,"form-control","input-md",3,"change","blur"],["select",""],["placeholder","Selecione una parroquia","formControlName","parroquia",1,"form-control","input-md",3,"change","blur"],["selParr",""],["placeholder","Selecione un barrio","formControlName","barrio",1,"form-control","input-md",3,"blur","change"],["selBarr",""],["placeholder","Selecione un barrio","formControlName","idHospital",1,"form-control","input-md",3,"blur","change"],["selHos",""],[1,"form-text","text-muted","danger"]],template:function(e,a){if(1&e&&(o.Vb(0,"form",0),o.hc("ngSubmit",(function(e){return a.onSubmit()})),o.Vb(1,"div",1),o.Vb(2,"h4",2),o.Pc(3),o.Ub(),o.Qb(4,"br"),o.Vb(5,"div",3),o.Vb(6,"div",4),o.Vb(7,"div",5),o.Vb(8,"label",6),o.Pc(9,"Provincia"),o.Ub(),o.Nc(10,X,4,1,"ng-container",7),o.mc(11,"async"),o.Nc(12,K,2,0,"ng-template",null,8,o.Oc),o.Ub(),o.Ub(),o.Vb(14,"div",9),o.Vb(15,"div",5),o.Vb(16,"label",10),o.Pc(17,"Cant\xf3n"),o.Ub(),o.Nc(18,Z,4,1,"ng-container",7),o.mc(19,"async"),o.Nc(20,ee,2,0,"ng-template",null,11,o.Oc),o.Ub(),o.Ub(),o.Vb(22,"div",4),o.Vb(23,"div",5),o.Vb(24,"label",12),o.Pc(25,"Parroquia"),o.Ub(),o.Nc(26,te,4,1,"ng-container",7),o.mc(27,"async"),o.Nc(28,ie,2,0,"ng-template",null,13,o.Oc),o.Ub(),o.Ub(),o.Vb(30,"div",4),o.Vb(31,"div",5),o.Vb(32,"label",12),o.Pc(33,"Barrio"),o.Ub(),o.Nc(34,re,4,1,"ng-container",7),o.mc(35,"async"),o.Nc(36,ne,2,0,"ng-template",null,14,o.Oc),o.Ub(),o.Ub(),o.Ub(),o.Vb(38,"div",3),o.Vb(39,"div",15),o.Vb(40,"div",5),o.Vb(41,"label",16),o.Pc(42,"Elija un lugar de atenci\xf3n"),o.Ub(),o.Nc(43,se,4,1,"ng-container",7),o.mc(44,"async"),o.Nc(45,le,2,0,"ng-template",null,17,o.Oc),o.Nc(47,be,2,1,"small",18),o.Ub(),o.Vb(48,"div",19),o.Vb(49,"button",20),o.hc("click",(function(e){return a.cancel()})),o.Pc(50,"Atr\xe1s"),o.Ub(),o.Vb(51,"button",21),o.Pc(52," Siguiente "),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e){const e=o.Cc(13),t=o.Cc(21),i=o.Cc(29),r=o.Cc(37),n=o.Cc(46);o.sc("formGroup",a.hospitalForm),o.Ab(3),o.Qc(a.title),o.Ab(7),o.sc("ngIf",!o.nc(11,14,a.isLoadingProvincias$))("ngIfElse",e),o.Ab(8),o.sc("ngIf",!o.nc(19,16,a.isLoadingCantones$))("ngIfElse",t),o.Ab(8),o.sc("ngIf",!o.nc(27,18,a.isLoadingParroquias$))("ngIfElse",i),o.Ab(8),o.sc("ngIf",!o.nc(35,20,a.isLoadingBarrios$))("ngIfElse",r),o.Ab(9),o.sc("ngIf",!o.nc(44,22,a.isLoadingHospitales$))("ngIfElse",n),o.Ab(4),o.sc("ngIf",a.formsErrors.idHospital),o.Ab(4),o.sc("disabled",a.hospitalForm.invalid)}},directives:[h.D,h.r,h.k,m.o,h.A,h.q,h.i,m.n,h.u,h.C],pipes:[m.b],styles:[".ng-untouched[_ngcontent-%COMP%]{border-color:#f5f5f5!important}.ng-valid[_ngcontent-%COMP%]{border-color:#06d79c!important}"]}),e})();var ue=t("XnIz"),fe=t("1kSV");const pe=["longContent"],he=["content"];function ge(e,a){1&e&&(o.Vb(0,"div",24),o.Vb(1,"h4",25),o.Pc(2,"Advertencia"),o.Ub(),o.Vb(3,"button",26),o.hc("click",(function(e){return a.$implicit.dismiss("Cross click")})),o.Vb(4,"span",27),o.Pc(5,"\xd7"),o.Ub(),o.Ub(),o.Ub(),o.Vb(6,"div",28),o.Vb(7,"p"),o.Pc(8,"Antes de continuar, tiene que aceptar los t\xe9rminos y condiciones"),o.Ub(),o.Ub(),o.Vb(9,"div",29),o.Vb(10,"button",30),o.hc("click",(function(e){return a.$implicit.close("Close click")})),o.Pc(11,"Cerrar"),o.Ub(),o.Ub())}function ve(e,a){1&e&&(o.Vb(0,"div",24),o.Vb(1,"h4",25),o.Pc(2,"T\xe9rminos y condiciones"),o.Ub(),o.Vb(3,"button",31),o.hc("click",(function(e){return a.$implicit.dismiss("Cross click")})),o.Vb(4,"span",27),o.Pc(5,"\xd7"),o.Ub(),o.Ub(),o.Ub(),o.Vb(6,"div",28),o.Vb(7,"h3"),o.Pc(8,"T\xc9RMINOS DE USO APLICATIVO COVID-LIFE"),o.Ub(),o.Vb(9,"p"),o.Pc(10,"Por favor, lea detenidamente los t\xe9rminos legales de uso, antes de hacer uso de la aplicaci\xf3n, este es un acuerdo entre el usuarioy elaplicativoCovid-Life."),o.Ub(),o.Vb(11,"p"),o.Pc(12," Nuestra aplicaci\xf3nCovid-Liferecoge informaci\xf3npersonal, por ejemplo: n\xfamero de c\xe9dula, nombres, apellidos, correo electr\xf3nico, localizaci\xf3n (GPS), fecha de nacimiento, tel\xe9fono, empresa/organizaci\xf3n, provincia, cant\xf3n, parroquia, direcci\xf3n, informaci\xf3n sobre asilamiento domiciliario: afiliaci\xf3n seguro social; genero (si es mujer, le solicita informaci\xf3n sobre si est\xe1 embarazada, si est\xe1 en per\xedodo de lactancia), factores de riesgo: si sufre de presi\xf3n alta, diabetes, si es fumador, diagn\xf3stico de c\xe1ncer, carnet de discapacitado emitido por el Ministerio de Salud P\xfablica, si le han diagnosticado alguna enfermedad, tiene alergia a medicamentos, cuantos familiares est\xe1n en el cerco epidemiol\xf3gico. Adem\xe1s, se le solicitar\xe1por tres veces al d\xeda los signos vitales (temperatura, ritmo card\xedaco, saturaci\xf3n del ox\xedgeno) y su estado de salud, con el fin de conocer de manera real su estado de salud y poder tomar una decisi\xf3n r\xe1pida y oportuna. "),o.Ub(),o.Vb(13,"p"),o.Pc(14," Al hacer uso de la App Covid-Life, usted (usuario) acepta y est\xe1 de acuerdo con las condiciones establecidas en estos t\xe9rminos de uso. "),o.Ub(),o.Vb(15,"ol"),o.Vb(16,"li"),o.Pc(17," Fin yalcance "),o.Vb(18,"ul"),o.Vb(19,"li"),o.Pc(20," El usuario ingresa sus datos personales para finesl\xedcitos. "),o.Ub(),o.Vb(21,"li"),o.Pc(22," Al proporcionar sus datos, al aplicativo Covid-Lifeest\xe1 de acuerdo que sus datos puedan ser utilizados por el Estado Ecuatoriano para tomar medidas para enfrentar la emergencia de saludp\xfablica.\uf020 "),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(23,"div",29),o.Vb(24,"button",32),o.hc("click",(function(e){return a.$implicit.close("Close click")})),o.Pc(25,"Cerrar"),o.Ub(),o.Ub())}const Ve=[{path:"",component:p,data:{title:"ngx-wizard"},children:[{path:"wizard",component:N,data:{title:"Personal"}},{path:"work",component:$,data:{title:"Work"}},{path:"address",component:me,data:{title:"Address"}},{path:"result",component:(()=>{class e{constructor(e,a,t){this.formDataService=e,this._authFacade=a,this.modalService=t,this.title="\xa1Muchas gracias!",this.isFormValid=!1,this.terminosCondiciones=!1}ngOnInit(){this.formData=this.formDataService.getFormData(),this.isFormValid=this.formDataService.isFormValid(),this.formDataUser=this.formDataService.getDataUser()}submit(){if(!this.terminosCondiciones)return this.modalService.open(this.content,{centered:!0}),!1;let e=this.formDataService.getDataUser();if(!this.formDataService.isDoctor){let a=this.formDataService.getDataPaciente();e.datos_paciente=Object.assign({},a)}console.log(e),this._authFacade.register(e)}onCheckboxChange(e){this.terminosCondiciones=!!e.target.checked}verTerminosCondiciones(){this.modalService.open(this.longContent,{scrollable:!0})}}return e.\u0275fac=function(a){return new(a||e)(o.Pb(d),o.Pb(ue.a),o.Pb(fe.u))},e.\u0275cmp=o.Jb({type:e,selectors:[["mt-wizard-result"]],viewQuery:function(e,a){var t;1&e&&(o.Wc(pe,!0),o.Wc(he,!0)),2&e&&(o.Bc(t=o.ic())&&(a.longContent=t.first),o.Bc(t=o.ic())&&(a.content=t.first))},inputs:{formData:"formData"},decls:59,vars:6,consts:[[1,"tab-pane","active"],[1,"head","text-center"],[1,"narrow","text-center"],[1,"row"],[1,"col-offset-1","col-10","col-sm-offset-3","col-sm-8","col-md-offset-4","col-md-8"],[1,"col-3","col-sm-2"],[1,"form-group"],["for","name",1,"form-control-label"],[1,"col-9","col-sm-10"],["for","email",1,"form-control-label"],["for","work",1,"form-control-label"],["for","address",1,"form-control-label"],[1,"form-group","row"],[1,"col-md-12"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customCheck1",1,"custom-control-input",3,"change"],["for","customCheck1",1,"custom-control-label"],["href","javascript:void(0)",3,"click"],[1,"text-center"],[1,"btn","btn-success","btn-raised",3,"click"],[2,"margin-left","10px"],[1,"ft-chevron-right"],["content",""],["longContent",""],[1,"modal-header"],[1,"modal-title"],["type","button ","aria-label","close ",1,"close",3,"click"],["aria-hidden","true "],[1,"modal-body"],[1,"modal-footer"],["type","button ",1,"btn","btn-light",3,"click"],["type","button ","aria-label","Close ",1,"close",3,"click"],["type","button",1,"btn","btn-light",3,"click"]],template:function(e,a){1&e&&(o.Vb(0,"div",0),o.Vb(1,"h3",1),o.Pc(2),o.Ub(),o.Vb(3,"p",2),o.Pc(4," Antes de enviar los datos acepte los t\xe9rminos y condiciones: "),o.Ub(),o.Vb(5,"div",3),o.Vb(6,"div",4),o.Vb(7,"div",3),o.Vb(8,"div",5),o.Vb(9,"div",6),o.Vb(10,"label",7),o.Pc(11,"Nombre: "),o.Ub(),o.Ub(),o.Ub(),o.Vb(12,"div",8),o.Pc(13),o.Ub(),o.Ub(),o.Vb(14,"div",3),o.Vb(15,"div",5),o.Vb(16,"div",6),o.Vb(17,"label",9),o.Pc(18,"Correo: "),o.Ub(),o.Ub(),o.Ub(),o.Vb(19,"div",8),o.Pc(20),o.Ub(),o.Ub(),o.Vb(21,"div",3),o.Vb(22,"div",5),o.Vb(23,"div",6),o.Vb(24,"label",10),o.Pc(25,"C\xe9dula: "),o.Ub(),o.Ub(),o.Ub(),o.Vb(26,"div",8),o.Pc(27),o.Ub(),o.Ub(),o.Vb(28,"div",3),o.Vb(29,"div",5),o.Vb(30,"div",6),o.Vb(31,"label",11),o.Pc(32,"T\xe9lefono: "),o.Ub(),o.Ub(),o.Ub(),o.Vb(33,"div",8),o.Pc(34),o.Ub(),o.Ub(),o.Vb(35,"div",3),o.Vb(36,"div",5),o.Vb(37,"div",6),o.Vb(38,"label",11),o.Pc(39,"Direcci\xf3n: "),o.Ub(),o.Ub(),o.Ub(),o.Vb(40,"div",8),o.Pc(41),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(42,"div",12),o.Vb(43,"div",13),o.Vb(44,"div",14),o.Vb(45,"input",15),o.hc("change",(function(e){return a.onCheckboxChange(e)})),o.Ub(),o.Vb(46,"label",16),o.Pc(47,"Estoy de acuerdo con los "),o.Vb(48,"a",17),o.hc("click",(function(e){return a.verTerminosCondiciones()})),o.Pc(49,"t\xe9rminos y condiciones"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(50,"div",18),o.Vb(51,"button",19),o.hc("click",(function(e){return a.submit()})),o.Pc(52," Enviar "),o.Vb(53,"span",20),o.Qb(54,"i",21),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Nc(55,ge,12,0,"ng-template",null,22,o.Oc),o.Nc(57,ve,26,0,"ng-template",null,23,o.Oc)),2&e&&(o.Ab(2),o.Qc(a.title),o.Ab(11),o.Rc(" ",a.formDataUser.name+" "+a.formData.lastName," "),o.Ab(7),o.Rc(" ",a.formDataUser.email," "),o.Ab(7),o.Rc(" ",a.formDataUser.ci," "),o.Ab(7),o.Rc(" ",a.formDataUser.telefono," "),o.Ab(7),o.Rc(" ",a.formDataUser.direccion," "))},styles:[""]}),e})(),data:{title:"Result"}}]}];let Ue=(()=>{class e{}return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(a){return new(a||e)},imports:[[i.j.forChild(Ve)],i.j]}),e})();t.d(a,"NGXFormWizardModule",(function(){return _e}));let _e=(()=>{class e{}return e.\u0275mod=o.Nb({type:e,bootstrap:[p]}),e.\u0275inj=o.Mb({factory:function(a){return new(a||e)},providers:[{provide:d,useClass:d},{provide:l,useClass:l}],imports:[[m.c,h.l,h.y,Ue]]}),e})()}}]);
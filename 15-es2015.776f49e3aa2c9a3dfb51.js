(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{vges:function(e,t,n){"use strict";n.r(t);var a=n("ofXK"),i=n("tk/3"),o=n("9Ejp"),r=n("fXoL");n("3Pt+"),n("zwY0");let s=(()=>{class e{constructor(){this.altFormat="F j, Y",this.altInput=!1,this.altInputClass="",this.allowInput=!1,this.appendTo=void 0,this.ariaDateFormat="F j, Y",this.clickOpens=!0,this.dateFormat="Y-m-d",this.defaultHour=12,this.defaultMinute=0,this.defaultSeconds=0,this.disable=[],this.disableMobile=!1,this.enable=[],this.enableTime=!1,this.enableSeconds=!1,this.formatDate=void 0,this.hourIncrement=1,this.inline=!1,this.maxDate=void 0,this.minDate=void 0,this.minuteIncrement=5,this.mode="single",this.nextArrow=">",this.noCalendar=!1,this.now=new Date,this.prevArrow="<",this.shorthandCurrentMonth=!1,this.static=!1,this.time24hr=!1,this.utc=!1,this.weekNumbers=!1,this.wrap=!1,this.plugins=[],this.locale="default",this.convertModelValue=!1,this.showMonths=1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();const c=new r.q("flatpickr defaults");function l(e){const t=new s;return Object.assign(t,e),t}let d=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:c,useValue:t},{provide:s,useFactory:l,deps:[c]}]}}}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)}}),e})();var u=n("CzEO"),f=n("1kSV"),g=n("cZdB"),m=n("tyNb"),p=n("748+"),h=n("+hi7"),b=n("cp0P"),v=n("0Z1T");let D=(()=>{class e{constructor(e){this._mainFacade=e,this.forRolDoctor=p.h.DOCTOR}ngOnInit(){this.loadUsers(),this.users$=this._mainFacade.getUsers()}loadUsers(){Object(b.a)(this._mainFacade.getUserLogged(),this._mainFacade.getHospitalSesion()).subscribe(([e,t])=>{this._mainFacade.loadUsers({roleHospital:{idHospital:t.idHospital._id,role:p.h.PACIENTE}})})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(h.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-patients"]],decls:1,vars:2,consts:[[3,"users$","tableFor"]],template:function(e,t){1&e&&r.Qb(0,"app-user-table",0),2&e&&r.sc("users$",t.users$)("tableFor",t.forRolDoctor)},directives:[v.a],styles:[""]}),e})(),C=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-video-call"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-daily-status"]],decls:73,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"taskboard","page-height"],[1,"taskboard-wrapper"],[1,"taskboard-list"],[1,"taskboard-header"],[1,"taskboard-cards",3,"dragula"],[1,"taskboard-task"],[1,"taskboard-task-title","task-status-success"],[1,"card-text","text-muted"],[1,"taskboard-task-title","task-status-danger"],[1,"taskboard-task","task-status-info"],[1,"taskboard-task-title"],[1,"taskboard-task","task-status-success"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"h6",5),r.Pc(6,"Empeorando"),r.Ub(),r.Vb(7,"div",6),r.Vb(8,"div",7),r.Vb(9,"div",8),r.Pc(10,"Jos\xe9 Luis Carrillo"),r.Ub(),r.Vb(11,"small",9),r.Pc(12,"No tengo apetito"),r.Ub(),r.Ub(),r.Vb(13,"div",7),r.Vb(14,"div",10),r.Pc(15,"Daniel Salas"),r.Ub(),r.Vb(16,"small",9),r.Pc(17,"No puedo respirar"),r.Ub(),r.Ub(),r.Vb(18,"div",11),r.Vb(19,"div",12),r.Pc(20,"Melany Cuvi"),r.Ub(),r.Vb(21,"small",9),r.Pc(22,"Desde ayer me duele la cabeza"),r.Ub(),r.Ub(),r.Vb(23,"div",13),r.Vb(24,"div",10),r.Pc(25,"Mathias Lema"),r.Ub(),r.Vb(26,"small",9),r.Pc(27,"Desde ayer perd\xed el olfato y me duele la cabeza "),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(28,"div",3),r.Vb(29,"div",4),r.Vb(30,"h6",5),r.Pc(31,"Mejorando"),r.Ub(),r.Vb(32,"div",6),r.Vb(33,"div",7),r.Vb(34,"div",10),r.Pc(35,"Julio Hugo"),r.Ub(),r.Vb(36,"small",9),r.Pc(37,"No puedo respirar"),r.Ub(),r.Ub(),r.Vb(38,"div",11),r.Vb(39,"div",12),r.Pc(40,"Kevin Gomez"),r.Ub(),r.Vb(41,"small",9),r.Pc(42,"Desde ayer me duele la cabeza"),r.Ub(),r.Ub(),r.Vb(43,"div",7),r.Vb(44,"div",8),r.Pc(45,"Mateo Casco"),r.Ub(),r.Vb(46,"small",9),r.Pc(47,"No tengo apetito"),r.Ub(),r.Ub(),r.Vb(48,"div",13),r.Vb(49,"div",10),r.Pc(50,"Mar\xeda Lema"),r.Ub(),r.Vb(51,"small",9),r.Pc(52,"Desde ayer perd\xed el olfato y me duele la cabeza "),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(53,"div",3),r.Vb(54,"div",4),r.Vb(55,"h6",5),r.Pc(56,"Igual"),r.Ub(),r.Vb(57,"div",6),r.Vb(58,"div",7),r.Vb(59,"div",10),r.Pc(60,"Juan Perez"),r.Ub(),r.Vb(61,"small",9),r.Pc(62,"No puedo respirar"),r.Ub(),r.Ub(),r.Vb(63,"div",11),r.Vb(64,"div",12),r.Pc(65,"Lariza Lema"),r.Ub(),r.Vb(66,"small",9),r.Pc(67,"Desde ayer me duele la cabeza"),r.Ub(),r.Ub(),r.Vb(68,"div",7),r.Vb(69,"div",8),r.Pc(70,"Susana Guailla"),r.Ub(),r.Vb(71,"small",9),r.Pc(72,"No tengo apetito"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Ab(7),r.sc("dragula","task-group"),r.Ab(25),r.sc("dragula","task-group"),r.Ab(25),r.sc("dragula","task-group"))},directives:[o.a],styles:["[_nghost-%COMP%]{padding:0!important;height:100%}.gu-mirror[_ngcontent-%COMP%]{background-color:#fff;border-radius:.125rem;padding:.5rem;opacity:1}"]}),e})();var y=n("XNiG"),w=n("1G5W"),A=n("lJxs"),_=n("FHFX"),O=n("bjF1"),S=n("o0su");let P=(()=>{class e{constructor(e){this.modal=e}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(f.c))},e.\u0275cmp=r.Jb({type:e,selectors:[["ngbd-modal-confirm-autofocus"]],inputs:{seguimiento:"seguimiento"},decls:20,vars:2,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-primary"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h4",1),r.Pc(2,"Confirmar video llamada"),r.Ub(),r.Vb(3,"button",2),r.hc("click",(function(e){return t.modal.dismiss("Cross click")})),r.Vb(4,"span",3),r.Pc(5,"\xd7"),r.Ub(),r.Ub(),r.Ub(),r.Vb(6,"div",4),r.Vb(7,"p"),r.Vb(8,"strong"),r.Pc(9,"\xbfEst\xe1 seguro que quiere hacer una video llamada con el paciente "),r.Vb(10,"span",5),r.Pc(11),r.Ub(),r.Pc(12,"?"),r.Ub(),r.Ub(),r.Vb(13,"p"),r.Pc(14,"Al paciente le llegar\xe1 una notificaci\xf3n para que se una a la video llamada."),r.Ub(),r.Ub(),r.Vb(15,"div",6),r.Vb(16,"button",7),r.hc("click",(function(e){return t.modal.dismiss("cancel click")})),r.Pc(17,"Cancelar"),r.Ub(),r.Vb(18,"button",8),r.hc("click",(function(e){return t.modal.close("Ok click")})),r.Pc(19,"S\xed"),r.Ub(),r.Ub()),2&e&&(r.Ab(11),r.Sc("",t.seguimiento.idPaciente.name," ",t.seguimiento.idPaciente.lastname,""))},encapsulation:2}),e})();const x=function(e,t){return{"alert-success":e,"alert-danger":t}};function E(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",16),r.hc("click",(function(n){r.Fc(e);const a=t.$implicit;return r.lc().showModalAtencion(a)})),r.Vb(1,"div",17),r.Vb(2,"h5"),r.Qb(3,"i",18),r.Pc(4),r.Ub(),r.Ub(),r.Vb(5,"p",19),r.Qb(6,"i",20),r.Pc(7),r.mc(8,"date"),r.Qb(9,"br"),r.Pc(10),r.Qb(11,"br"),r.Qb(12,"i",21),r.Pc(13),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit;r.Ab(1),r.sc("ngClass",r.xc(9,x,"MEJOR_EVOLUCION"==e.estado_diario_paciente,"EMPEORANDO"==e.estado_diario_paciente)),r.Ab(3),r.Sc(" ",null==e?null:e.idPaciente.name," ",null==e?null:e.idPaciente.lastname,""),r.Ab(3),r.Rc(" | ",r.oc(8,6,null==e?null:e.createAt,"h:mm a")," "),r.Ab(3),r.Rc(" ",null==e?null:e.estado_diario_paciente," "),r.Ab(3),r.Rc(" | ",null==e?null:e.nota_paciente," ")}}function k(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",22),r.hc("click",(function(n){r.Fc(e);const a=t.$implicit;return r.lc().showModalAtencion(a)})),r.Vb(1,"div",17),r.Vb(2,"h5"),r.Qb(3,"i",18),r.Pc(4),r.Ub(),r.Ub(),r.Vb(5,"p",19),r.Qb(6,"i",20),r.Pc(7),r.mc(8,"date"),r.Qb(9,"br"),r.Pc(10),r.Qb(11,"br"),r.Qb(12,"i",21),r.Pc(13),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit;r.Ab(1),r.sc("ngClass",r.xc(9,x,"MEJOR_EVOLUCION"==e.estado_diario_paciente,"EMPEORANDO"==e.estado_diario_paciente)),r.Ab(3),r.Sc(" ",null==e?null:null==e.idPaciente?null:e.idPaciente.name," ",null==e?null:null==e.idPaciente?null:e.idPaciente.lastname,""),r.Ab(3),r.Rc(" | ",r.oc(8,6,null==e?null:e.createAt,"h:mm a")," "),r.Ab(3),r.Rc(" ",null==e?null:e.estado_diario_paciente," "),r.Ab(3),r.Rc(" | ",null==e?null:e.nota_paciente," ")}}function I(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",22),r.hc("click",(function(n){r.Fc(e);const a=t.$implicit;return r.lc().openModalConfirmarIrVideoLLamda(a)})),r.Vb(1,"div",17),r.Vb(2,"h5"),r.Qb(3,"i",18),r.Pc(4),r.Ub(),r.Ub(),r.Vb(5,"p",19),r.Qb(6,"i",20),r.Pc(7),r.mc(8,"date"),r.Qb(9,"br"),r.Pc(10),r.Qb(11,"br"),r.Qb(12,"i",21),r.Pc(13),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit;r.Ab(1),r.sc("ngClass",r.xc(9,x,"MEJOR_EVOLUCION"==e.estado_diario_paciente,"EMPEORANDO"==e.estado_diario_paciente)),r.Ab(3),r.Sc(" ",null==e?null:null==e.idPaciente?null:e.idPaciente.name," ",null==e?null:null==e.idPaciente?null:e.idPaciente.lastname,""),r.Ab(3),r.Rc(" | ",r.oc(8,6,null==e?null:e.createAt,"h:mm a")," "),r.Ab(3),r.Rc(" ",null==e?null:e.estado_diario_paciente," "),r.Ab(3),r.Rc(" | ",null==e?null:e.nota_paciente," ")}}function T(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",22),r.hc("click",(function(n){r.Fc(e);const a=t.$implicit;return r.lc().showModalAtencion(a)})),r.Vb(1,"div",17),r.Vb(2,"h5"),r.Qb(3,"i",18),r.Pc(4),r.Ub(),r.Ub(),r.Vb(5,"p",19),r.Qb(6,"i",20),r.Pc(7),r.mc(8,"date"),r.Qb(9,"br"),r.Pc(10),r.Qb(11,"br"),r.Qb(12,"i",21),r.Pc(13),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit;r.Ab(1),r.sc("ngClass",r.xc(9,x,"MEJOR_EVOLUCION"==e.estado_diario_paciente,"EMPEORANDO"==e.estado_diario_paciente)),r.Ab(3),r.Sc(" ",null==e?null:null==e.idPaciente?null:e.idPaciente.name," ",null==e?null:null==e.idPaciente?null:e.idPaciente.lastname,""),r.Ab(3),r.Rc(" | ",r.oc(8,6,null==e?null:e.createAt,"h:mm a")," "),r.Ab(3),r.Rc(" ",null==e?null:e.estado_diario_paciente," "),r.Ab(3),r.Rc(" | ",null==e?null:e.nota_paciente," ")}}const L=[{path:"",children:[{path:"pacientes",component:D,data:{title:"Pacientes"}},{path:"estado-diario",component:M,data:{title:"Seguimientos"}},{path:"video-llamada",component:C,data:{title:"Video llamada"}},{path:"seguimientos",component:(()=>{class e{constructor(e,t,n,a,i,o,r){this.dragulaService=e,this._mainFacade=t,this._userFacade=n,this._seguimientoFacade=a,this._router=i,this._suscriptionService=o,this._modalService=r,this._destroyed$=new y.a,this.segSinLlamada=[],this.segConLlamada=[],this.segAgendados=[],this.segAtendidos=[],this.segAtendidosConLlamada=[],this.dragulaService.destroy("SEGUIMIENTOS"),this.dragulaService.createGroup("SEGUIMIENTOS",{}),this.dragulaService.dropModel("SEGUIMIENTOS").pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.makeAction(e)}),Object(b.a)(this._mainFacade.getHospitalSesion(),this._mainFacade.getUserLogged()).subscribe(([e,t])=>{this.userLogged=t,this.querySinLlamada(e),this.queryConLlamada(e),this.queryAgendados(e,t),this.queryAtendidos(e,t),this.queryAtendidosConLlamada(e)})}convertDate(e){let t=new Date(e);return new Date(t.getFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}ngOnInit(){this.subscribeToSeguimientosSinLlamada(),this.subscribeToSeguimientosConLlamada(),this.subscribeToSeguimientosAgendadas(),this.subscribeToSeguimientosAtendidos(),this.segSinLlamada$.pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.segSinLlamada=[],this.segSinLlamada=e.map(e=>Object.assign(Object.assign({},e),{createAt:this.convertDate(e.createAt)}))}),this.segConLlamada$.pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.segConLlamada=[],this.segConLlamada=e.map(e=>Object.assign(Object.assign({},e),{createAt:this.convertDate(e.createAt)}))}),this.segAgendados$.pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.segAgendados=[],this.segAgendados=e.map(e=>Object.assign(Object.assign({},e),{createAt:this.convertDate(e.createAt)}))}),this.segAtendidos$.pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.segAtendidos=[],this.segAtendidos=e.map(e=>Object.assign(Object.assign({},e),{createAt:this.convertDate(e.createAt)})),this.segAtendidos=[...this.segAtendidosConLlamada,...this.segAtendidos]}),this.segAtendidosConLlamada$.pipe(Object(w.a)(this._destroyed$)).subscribe(e=>{this.segAtendidosConLlamada=[],this.segAtendidosConLlamada=e.map(e=>Object.assign(Object.assign({},e),{createAt:this.convertDate(e.createAt)})),this.segAtendidos=[...this.segAtendidosConLlamada,...this.segAtendidos]})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}queryAgendados(e,t){let n=new Date;n.setHours(0,0,0),this.segAgendadosQueryRef=this._suscriptionService.filterSeguimiento({fechaUltimos:{createAt:n,isUltimos:!1,AndIdHospital:e.idHospital._id,AndIdDoctor:t._id,AndEstado:p.i.AGENDADO}}),this.segAgendados$=this.segAgendadosQueryRef.valueChanges.pipe(Object(A.a)(({data:e})=>e[O.d.filter.resolve]))}querySinLlamada(e){let t=new Date;t.setHours(0,0,0),console.log(t),this.segSinLlamadaQueryRef=this._suscriptionService.filterSeguimiento({fechaUltimos:{createAt:t,isUltimos:!0,AndIdHospital:e.idHospital._id,AndEstado:p.i.SOLICITADO_SIN_LLAMADA}}),this.segSinLlamada$=this.segSinLlamadaQueryRef.valueChanges.pipe(Object(A.a)(({data:e})=>e[O.d.filter.resolve]))}queryConLlamada(e){let t=new Date;t.setHours(0,0,0),this.segConLlamadaQueryRef=this._suscriptionService.filterSeguimiento({fechaUltimos:{createAt:t,isUltimos:!0,AndIdHospital:e.idHospital._id,AndEstado:p.i.SOLICITADO_CON_LLAMADA}}),this.segConLlamada$=this.segConLlamadaQueryRef.valueChanges.pipe(Object(A.a)(({data:e})=>e[O.d.filter.resolve]))}queryAtendidos(e,t){let n=new Date;n.setHours(0,0,0),this.segAtendidosQueryRef=this._suscriptionService.filterSeguimiento({fechaUltimos:{createAt:n,isUltimos:!1,AndIdHospital:e.idHospital._id,AndEstado:p.i.REVISADO_SIN_LLAMADA}}),this.segAtendidos$=this.segAtendidosQueryRef.valueChanges.pipe(Object(A.a)(({data:e})=>e[O.d.filter.resolve]))}queryAtendidosConLlamada(e){let t=new Date;t.setHours(0,0,0),this.segAtendidosConLlamada$=this._suscriptionService.filterSeguimiento2({fechaUltimos:{createAt:t,isUltimos:!1,AndIdHospital:e.idHospital._id,AndEstado:p.i.REVISADO_CON_LLAMADA}})}subscribeToSeguimientosSinLlamada(){this.segSinLlamadaQueryRef.subscribeToMore({document:O.d.suscription.gql,updateQuery:(e,{subscriptionData:t})=>{if(!t.data)return e;const n=this.getDataForUpdateGrapqlQuery(t.data.cambioSeguimientoNotificacion,e.filterSeguimiento);return Object.assign(Object.assign({},e),{filterSeguimiento:[...n]})}})}getDataForUpdateGrapqlQuery(e,t){let n=t.findIndex(t=>t._id===e._id);if(-1!==n&&t.splice(n,1),e.estado===p.i.SOLICITADO_SIN_LLAMADA){let n=t.findIndex(t=>t.idPaciente._id===e.idPaciente._id);return-1===n?[e,...t]:(t.splice(n,1),[...t,Object.assign({},e)])}return[...t]}subscribeToSeguimientosConLlamada(){this.segConLlamadaQueryRef.subscribeToMore({document:O.d.suscription.gql,updateQuery:(e,{subscriptionData:t})=>{if(!t.data)return e;const n=this.getDataForSegConLlamadaQuery(t.data.cambioSeguimientoNotificacion,e.filterSeguimiento);return Object.assign(Object.assign({},e),{filterSeguimiento:[...n]})}})}getDataForSegConLlamadaQuery(e,t){let n=t.findIndex(t=>t._id===e._id);if(-1!==n&&(t=t.splice(n,1)),e.estado===p.i.SOLICITADO_CON_LLAMADA){let n=t.findIndex(t=>t.idPaciente._id===e.idPaciente._id);return-1===n?[e,...t]:(t.splice(n,1),[...t,Object.assign({},e)])}return[...t]}subscribeToSeguimientosAgendadas(){this.segAgendadosQueryRef.subscribeToMore({document:O.d.suscription.gql,updateQuery:(e,{subscriptionData:t})=>{if(!t.data)return e;const n=this.getDataForSegAgendadosQuery(t.data.cambioSeguimientoNotificacion,e.filterSeguimiento);return Object.assign(Object.assign({},e),{filterSeguimiento:[...n]})}})}getDataForSegAgendadosQuery(e,t){let n=t.findIndex(t=>t._id===e._id);if(-1!==n&&(t=t.splice(n,1)),e.estado===p.i.AGENDADO){let n=t.findIndex(t=>t.idPaciente._id===e.idPaciente._id);return-1===n?[e,...t]:(t.splice(n,1),[...t,Object.assign({},e)])}return[...t]}subscribeToSeguimientosAtendidos(){this.segAtendidosQueryRef.subscribeToMore({document:O.d.suscription.gql,updateQuery:(e,{subscriptionData:t})=>{if(!t.data||t.data.cambioSeguimientoNotificacion.estado!==p.i.REVISADO_SIN_LLAMADA&&t.data.cambioSeguimientoNotificacion.estado!==p.i.REVISADO_SIN_LLAMADA)return e;const n=[t.data.cambioSeguimientoNotificacion,...e.filterSeguimiento];return Object.assign(Object.assign({},e),{filterSeguimiento:[...n]})}})}showModalAtencion(e){this._userFacade.openModalPerfil(e)}makeAction(e){switch(e.target.getAttribute("id")){case"segAgendados":this._seguimientoFacade.agendarSeguimiento(e.item,this.userLogged);break;case"segAtendidos":this._seguimientoFacade.atenderSeguimiento({_id:e.item._id},e.item.estado)}}openModalConfirmarIrVideoLLamda(e){this.modalConfirm=this._modalService.open(P),this.modalConfirm.componentInstance.seguimiento=Object.assign({},e),this.modalConfirm.result.then(t=>{this.goToVideoCalling(e)},()=>console.log("cancelar"))}goToVideoCalling(e){this._seguimientoFacade.dispatchActionSendNotificationVideoLlamada(e,this.userLogged,{descripcion:"* Un m\xe9dico lo est\xe1 esperando *",titulo:"\xa1\xdanase a la video llamada!",idReceptor:e.idPaciente._id,idSeguimiento:e._id,body:{doctor:{nombres:this.userLogged.name,apellidos:this.userLogged.lastname},tipo:p.j.DOCTOR_SE_HA_UNIDO_A_LA_LLAMADA}}),this._router.navigate(["/sala/llamada",e._id,p.h.DOCTOR,e.idPaciente._id],{state:{data:Object.assign({},e)}})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.c),r.Pb(_.a),r.Pb(_.c),r.Pb(_.b),r.Pb(m.f),r.Pb(S.c),r.Pb(f.u))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-seguimientos"]],decls:40,vars:8,consts:[[1,"table-responsive"],[1,"table"],["width","25%",1,"header"],[1,"text-center"],[1,"fas","fa-address-book"],[1,"fas","fa-phone"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-check"],[1,"border","border-secondary","border-top-0","border-left-0"],["id","segSinLlamada","dragula","SEGUIMIENTOS",3,"dragulaModel","dragulaModelChange"],["class","card vamp border border-secondary",3,"click",4,"ngFor","ngForOf"],["id","segConLlamada","dragula","SEGUIMIENTOS",3,"dragulaModel","dragulaModelChange"],["class","card border border-secondary vamp",3,"click",4,"ngFor","ngForOf"],["id","segAgendados","dragula","SEGUIMIENTOS",3,"dragulaModel","dragulaModelChange"],[1,"container","border","border-secondary","border-top-0","border-left-0"],["id","segAtendidos","dragula","SEGUIMIENTOS",3,"dragulaModel","dragulaModelChange"],[1,"card","vamp","border","border-secondary",3,"click"],[1,"card-header","alert",3,"ngClass"],[1,"fas","fa-user"],[1,"pl-3"],[1,"fas","fa-clock"],[1,"fas","fa-notes-medical"],[1,"card","border","border-secondary","vamp",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"div"),r.Pc(1,"Seleccione cada tarjeta para mover al estado correspodiente"),r.Ub(),r.Vb(2,"div",0),r.Vb(3,"table",1),r.Vb(4,"thead"),r.Vb(5,"tr"),r.Vb(6,"th",2),r.Vb(7,"div",3),r.Vb(8,"h4"),r.Qb(9,"i",4),r.Pc(10," Seguimiento"),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"th",2),r.Vb(12,"div",3),r.Vb(13,"h5"),r.Qb(14,"i",5),r.Pc(15," Solicitud de Video Llamada"),r.Ub(),r.Ub(),r.Ub(),r.Vb(16,"th",2),r.Vb(17,"div",3),r.Vb(18,"h4"),r.Qb(19,"i",6),r.Pc(20," Agendadas"),r.Ub(),r.Ub(),r.Ub(),r.Vb(21,"th",2),r.Vb(22,"div",3),r.Vb(23,"h4"),r.Qb(24,"i",7),r.Pc(25," Atendidas"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(26,"tbody"),r.Vb(27,"tr"),r.Vb(28,"td",8),r.Vb(29,"div",9),r.hc("dragulaModelChange",(function(e){return t.segSinLlamada=e})),r.Nc(30,E,14,12,"div",10),r.Ub(),r.Ub(),r.Vb(31,"td",8),r.Vb(32,"div",11),r.hc("dragulaModelChange",(function(e){return t.segConLlamada=e})),r.Nc(33,k,14,12,"div",12),r.Ub(),r.Ub(),r.Vb(34,"td",8),r.Vb(35,"div",13),r.hc("dragulaModelChange",(function(e){return t.segAgendados=e})),r.Nc(36,I,14,12,"div",12),r.Ub(),r.Ub(),r.Vb(37,"td",14),r.Vb(38,"div",15),r.hc("dragulaModelChange",(function(e){return t.segAtendidos=e})),r.Nc(39,T,14,12,"div",12),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Ab(29),r.sc("dragulaModel",t.segSinLlamada),r.Ab(1),r.sc("ngForOf",t.segSinLlamada),r.Ab(2),r.sc("dragulaModel",t.segConLlamada),r.Ab(1),r.sc("ngForOf",t.segConLlamada),r.Ab(2),r.sc("dragulaModel",t.segAgendados),r.Ab(1),r.sc("ngForOf",t.segAgendados),r.Ab(2),r.sc("dragulaModel",t.segAtendidos),r.Ab(1),r.sc("ngForOf",t.segAtendidos))},directives:[o.a,a.n,a.m],pipes:[a.e],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}h3[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:20px}.flex[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:8px;background:hsla(0,0%,100%,.4)}.container[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.container[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.vamp[_ngcontent-%COMP%]{background:#fff;list-style:none;padding:8px;color:#222;cursor:pointer}.vamp[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #777}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{color:#add8e6}.centrar[_ngcontent-%COMP%]{text-align:center;height:60px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:10;background-color:#fff}.table-responsive[_ngcontent-%COMP%]{height:500px;overflow:scroll}"]}),e})(),data:{title:"Seguimientos"}}]}];let U=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[m.j.forChild(L)],m.j]}),e})();var N=n("FtmO");let F=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[a.c,N.ProfileModule,f.w]]}),e})();var V=n("JqCM"),j=n("WzrL"),H=n("oRDy");n.d(t,"DoctorModule",(function(){return Y}));let Y=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},providers:[a.e,a.f],imports:[[a.c,i.c,f.w,f.v,d.forRoot(),U,g.a,u.b.forRoot(),o.b.forRoot(),F,V.b,j.a,N.ProfileModule,H.a]]}),e})()},zwY0:function(e,t,n){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=function(e){return("0"+e).slice(-2)},o=function(e){return!0===e?1:0};function r(e,t,n){var a;return void 0===n&&(n=!1),function(){var i=this,o=arguments;null!==a&&clearTimeout(a),a=window.setTimeout((function(){a=null,n||e.apply(i,o)}),t),n&&!a&&e.apply(i,o)}}var s=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function l(e,t,n){var a=window.document.createElement(e);return n=n||"",a.className=t=t||"",void 0!==n&&(a.textContent=n),a}function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,t){var n=l("div","numInputWrapper"),a=l("input","numInput "+e),i=l("span","arrowUp"),o=l("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var r in t)a.setAttribute(r,t[r]);return n.appendChild(a),n.appendChild(i),n.appendChild(o),n}var f=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},m={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},p={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},h={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[h.w(e,t,n)]},F:function(e,t,n){return g(h.n(e,t,n)-1,!1,t)},G:function(e,t,n){return i(h.h(e,t,n))},H:function(e){return i(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return i(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return i(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return i(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return i(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var t=e.config,i=void 0===t?n:t,o=e.l10n,r=void 0===o?a:o;return function(e,t,n){var a=n||r;return void 0!==i.formatDate?i.formatDate(e,t,a):t.split("").map((function(t,n,o){return h[t]&&"\\"!==o[n-1]?h[t](e,a,i):"\\"!==t?t:""})).join("")}},v=function(e){var t=e.config,i=void 0===t?n:t,o=e.l10n,r=void 0===o?a:o;return function(e,t,a,o){if(0===e||e){var s,c=o||r,l=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var d=t||(i||n).dateFormat,u=String(e).trim();if("today"===u)s=new Date,a=!0;else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else if(i&&i.parseDate)s=i.parseDate(e,d);else{s=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var f=void 0,g=[],h=0,b=0,v="";h<d.length;h++){var D=d[h],C="\\"===D;if(p[D]&&"\\"!==d[h-1]&&!C){v+=p[D];var M=new RegExp(v).exec(e);M&&(f=!0)&&g["Y"!==D?"push":"unshift"]({fn:m[D],val:M[++b]})}else C||(v+=".");g.forEach((function(e){return s=(0,e.fn)(s,e.val,c)||s}))}s=f?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===a&&s.setHours(0,0,0,0),s;i.errorHandler(new Error("Invalid date provided: "+l))}}};function D(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function C(f,m){var h={config:e({},n,y.defaultConfig),l10n:a};function C(e){return e.bind(h)}function M(){var e=h.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==h.calendarContainer&&(h.calendarContainer.style.visibility="hidden",h.calendarContainer.style.display="block"),void 0!==h.daysContainer){var t=(h.days.offsetWidth+1)*e.showMonths;h.daysContainer.style.width=t+"px",h.calendarContainer.style.width=t+(void 0!==h.weekWrapper?h.weekWrapper.offsetWidth:0)+"px",h.calendarContainer.style.removeProperty("visibility"),h.calendarContainer.style.removeProperty("display")}}))}function w(e){0===h.selectedDates.length&&te(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==h.amPM&&e.target===h.amPM&&(h.amPM.textContent=h.l10n.amPM[o(h.amPM.textContent===h.l10n.amPM[0])]);var a=parseFloat(n.getAttribute("min")),r=parseFloat(n.getAttribute("max")),s=parseFloat(n.getAttribute("step")),c=parseInt(n.value,10),l=c+s*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var d=n===h.hourElement,u=n===h.minuteElement;l<a?(l=r+l+o(!d)+(o(d)&&o(!h.amPM)),u&&L(void 0,-1,h.hourElement)):l>r&&(l=n===h.hourElement?l-r-o(!h.amPM):a,u&&L(void 0,1,h.hourElement)),h.amPM&&d&&(1===s?l+c===23:Math.abs(l-c)>s)&&(h.amPM.textContent=h.l10n.amPM[o(h.amPM.textContent===h.l10n.amPM[0])]),n.value=i(l)}}(e);var t=h._input.value;A(),he(),h._input.value!==t&&h._debouncedChange()}function A(){if(void 0!==h.hourElement&&void 0!==h.minuteElement){var e=(parseInt(h.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(h.minuteElement.value,10)||0)%60,n=void 0!==h.secondElement?(parseInt(h.secondElement.value,10)||0)%60:0;void 0!==h.amPM&&(e=e%12+12*o(h.amPM.textContent===h.l10n.amPM[1]));var a=void 0!==h.config.minTime||h.config.minDate&&h.minDateHasTime&&h.latestSelectedDateObj&&0===D(h.latestSelectedDateObj,h.config.minDate,!0);if(void 0!==h.config.maxTime||h.config.maxDate&&h.maxDateHasTime&&h.latestSelectedDateObj&&0===D(h.latestSelectedDateObj,h.config.maxDate,!0)){var i=void 0!==h.config.maxTime?h.config.maxTime:h.config.maxDate;(e=Math.min(e,i.getHours()))===i.getHours()&&(t=Math.min(t,i.getMinutes())),t===i.getMinutes()&&(n=Math.min(n,i.getSeconds()))}if(a){var r=void 0!==h.config.minTime?h.config.minTime:h.config.minDate;(e=Math.max(e,r.getHours()))===r.getHours()&&(t=Math.max(t,r.getMinutes())),t===r.getMinutes()&&(n=Math.max(n,r.getSeconds()))}S(e,t,n)}}function _(e){var t=e||h.latestSelectedDateObj;t&&S(t.getHours(),t.getMinutes(),t.getSeconds())}function O(){var e=h.config.defaultHour,t=h.config.defaultMinute,n=h.config.defaultSeconds;if(void 0!==h.config.minDate){var a=h.config.minDate.getHours(),i=h.config.minDate.getMinutes();(e=Math.max(e,a))===a&&(t=Math.max(i,t)),e===a&&t===i&&(n=h.config.minDate.getSeconds())}if(void 0!==h.config.maxDate){var o=h.config.maxDate.getHours(),r=h.config.maxDate.getMinutes();(e=Math.min(e,o))===o&&(t=Math.min(r,t)),e===o&&t===r&&(n=h.config.maxDate.getSeconds())}S(e,t,n)}function S(e,t,n){void 0!==h.latestSelectedDateObj&&h.latestSelectedDateObj.setHours(e%24,t,n||0,0),h.hourElement&&h.minuteElement&&!h.isMobile&&(h.hourElement.value=i(h.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),h.minuteElement.value=i(t),void 0!==h.amPM&&(h.amPM.textContent=h.l10n.amPM[o(e>=12)]),void 0!==h.secondElement&&(h.secondElement.value=i(n)))}function P(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&z(t)}function x(e,t,n,a){return t instanceof Array?t.forEach((function(t){return x(e,t,n,a)})):e instanceof Array?e.forEach((function(e){return x(e,t,n,a)})):(e.addEventListener(t,n,a),void h._handlers.push({element:e,event:t,handler:n,options:a}))}function E(e){return function(t){1===t.which&&e(t)}}function k(){ue("onChange")}function I(e,t){var n=void 0!==e?h.parseDate(e):h.latestSelectedDateObj||(h.config.minDate&&h.config.minDate>h.now?h.config.minDate:h.config.maxDate&&h.config.maxDate<h.now?h.config.maxDate:h.now),a=h.currentYear,i=h.currentMonth;try{void 0!==n&&(h.currentYear=n.getFullYear(),h.currentMonth=n.getMonth())}catch(o){o.message="Invalid date supplied: "+n,h.config.errorHandler(o)}t&&h.currentYear!==a&&(ue("onYearChange"),Y()),!t||h.currentYear===a&&h.currentMonth===i||ue("onMonthChange"),h.redraw()}function T(e){~e.target.className.indexOf("arrow")&&L(e,e.target.classList.contains("arrowUp")?1:-1)}function L(e,t,n){var a=e&&e.target,i=n||a&&a.parentNode&&a.parentNode.firstChild,o=fe("increment");o.delta=t,i&&i.dispatchEvent(o)}function U(e,t,n,a){var i=B(t,!0),o=l("span","flatpickr-day "+e,t.getDate().toString());return o.dateObj=t,o.$i=a,o.setAttribute("aria-label",h.formatDate(t,h.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===D(t,h.now)&&(h.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),i?(o.tabIndex=-1,ge(t)&&(o.classList.add("selected"),h.selectedDateElem=o,"range"===h.config.mode&&(c(o,"startRange",h.selectedDates[0]&&0===D(t,h.selectedDates[0],!0)),c(o,"endRange",h.selectedDates[1]&&0===D(t,h.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===h.config.mode&&function(e){return!("range"!==h.config.mode||h.selectedDates.length<2)&&D(e,h.selectedDates[0])>=0&&D(e,h.selectedDates[1])<=0}(t)&&!ge(t)&&o.classList.add("inRange"),h.weekNumbers&&1===h.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&h.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+h.config.getWeek(t)+"</span>"),ue("onDayCreate",o),o}function N(e){e.focus(),"range"===h.config.mode&&Z(e)}function F(e){for(var t=e>0?h.config.showMonths:-1,n=e>0?0:h.config.showMonths-1;n!=t;n+=e)for(var a=h.daysContainer.children[n],i=e>0?a.children.length:-1,o=e>0?0:a.children.length-1;o!=i;o+=e){var r=a.children[o];if(-1===r.className.indexOf("hidden")&&B(r.dateObj))return r}}function V(e,t){var n=K(document.activeElement||document.body),a=void 0!==e?e:n?document.activeElement:void 0!==h.selectedDateElem&&K(h.selectedDateElem)?h.selectedDateElem:void 0!==h.todayDateElem&&K(h.todayDateElem)?h.todayDateElem:F(t>0?1:-1);return void 0===a?h._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():h.currentMonth,a=t>0?h.config.showMonths:-1,i=t>0?1:-1,o=n-h.currentMonth;o!=a;o+=i)for(var r=h.daysContainer.children[o],s=r.children.length,c=n-h.currentMonth===o?e.$i+t:t<0?r.children.length-1:0;c>=0&&c<s&&c!=(t>0?s:-1);c+=i){var l=r.children[c];if(-1===l.className.indexOf("hidden")&&B(l.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return N(l)}h.changeMonth(i),V(F(i),0)}(a,t):N(a)}function j(e,t){for(var n=(new Date(e,t,1).getDay()-h.l10n.firstDayOfWeek+7)%7,a=h.utils.getDaysInMonth((t-1+12)%12),i=h.utils.getDaysInMonth(t),o=window.document.createDocumentFragment(),r=h.config.showMonths>1,s=r?"prevMonthDay hidden":"prevMonthDay",c=r?"nextMonthDay hidden":"nextMonthDay",d=a+1-n,u=0;d<=a;d++,u++)o.appendChild(U(s,new Date(e,t-1,d),d,u));for(d=1;d<=i;d++,u++)o.appendChild(U("",new Date(e,t,d),d,u));for(var f=i+1;f<=42-n&&(1===h.config.showMonths||u%7!=0);f++,u++)o.appendChild(U(c,new Date(e,t+1,f%i),f,u));var g=l("div","dayContainer");return g.appendChild(o),g}function H(){if(void 0!==h.daysContainer){d(h.daysContainer),h.weekNumbers&&d(h.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<h.config.showMonths;t++){var n=new Date(h.currentYear,h.currentMonth,1);n.setMonth(h.currentMonth+t),e.appendChild(j(n.getFullYear(),n.getMonth()))}h.daysContainer.appendChild(e),h.days=h.daysContainer.firstChild,"range"===h.config.mode&&1===h.selectedDates.length&&Z()}}function Y(){if(!(h.config.showMonths>1||"dropdown"!==h.config.monthSelectorType)){var e=function(e){return!(void 0!==h.config.minDate&&h.currentYear===h.config.minDate.getFullYear()&&e<h.config.minDate.getMonth()||void 0!==h.config.maxDate&&h.currentYear===h.config.maxDate.getFullYear()&&e>h.config.maxDate.getMonth())};h.monthsDropdownContainer.tabIndex=-1,h.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=l("option","flatpickr-monthDropdown-month");n.value=new Date(h.currentYear,t).getMonth().toString(),n.textContent=g(t,h.config.shorthandCurrentMonth,h.l10n),n.tabIndex=-1,h.currentMonth===t&&(n.selected=!0),h.monthsDropdownContainer.appendChild(n)}}}function R(){var e,t=l("div","flatpickr-month"),n=window.document.createDocumentFragment();h.config.showMonths>1||"static"===h.config.monthSelectorType?e=l("span","cur-month"):(h.monthsDropdownContainer=l("select","flatpickr-monthDropdown-months"),x(h.monthsDropdownContainer,"change",(function(e){var t=parseInt(e.target.value,10);h.changeMonth(t-h.currentMonth),ue("onMonthChange")})),Y(),e=h.monthsDropdownContainer);var a=u("cur-year",{tabindex:"-1"}),i=a.getElementsByTagName("input")[0];i.setAttribute("aria-label",h.l10n.yearAriaLabel),h.config.minDate&&i.setAttribute("min",h.config.minDate.getFullYear().toString()),h.config.maxDate&&(i.setAttribute("max",h.config.maxDate.getFullYear().toString()),i.disabled=!!h.config.minDate&&h.config.minDate.getFullYear()===h.config.maxDate.getFullYear());var o=l("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(a),n.appendChild(o),t.appendChild(n),{container:t,yearElement:i,monthElement:e}}function Q(){d(h.monthNav),h.monthNav.appendChild(h.prevMonthNav),h.config.showMonths&&(h.yearElements=[],h.monthElements=[]);for(var e=h.config.showMonths;e--;){var t=R();h.yearElements.push(t.yearElement),h.monthElements.push(t.monthElement),h.monthNav.appendChild(t.container)}h.monthNav.appendChild(h.nextMonthNav)}function $(){h.weekdayContainer?d(h.weekdayContainer):h.weekdayContainer=l("div","flatpickr-weekdays");for(var e=h.config.showMonths;e--;){var t=l("div","flatpickr-weekdaycontainer");h.weekdayContainer.appendChild(t)}return W(),h.weekdayContainer}function W(){if(h.weekdayContainer){var e=h.l10n.firstDayOfWeek,t=h.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=h.config.showMonths;n--;)h.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function J(e,t){void 0===t&&(t=!0);var n=t?e:e-h.currentMonth;n<0&&!0===h._hidePrevMonthArrow||n>0&&!0===h._hideNextMonthArrow||(h.currentMonth+=n,(h.currentMonth<0||h.currentMonth>11)&&(h.currentYear+=h.currentMonth>11?1:-1,h.currentMonth=(h.currentMonth+12)%12,ue("onYearChange"),Y()),H(),ue("onMonthChange"),me())}function q(e){return!(!h.config.appendTo||!h.config.appendTo.contains(e))||h.calendarContainer.contains(e)}function G(e){if(h.isOpen&&!h.config.inline){var t="function"==typeof(r=e).composedPath?r.composedPath()[0]:r.target,n=q(t),a=t===h.input||t===h.altInput||h.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(h.input)||~e.path.indexOf(h.altInput)),i="blur"===e.type?a&&e.relatedTarget&&!q(e.relatedTarget):!a&&!n&&!q(e.relatedTarget),o=!h.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&o&&(void 0!==h.timeContainer&&void 0!==h.minuteElement&&void 0!==h.hourElement&&w(),h.close(),"range"===h.config.mode&&1===h.selectedDates.length&&(h.clear(!1),h.redraw()))}var r}function z(e){if(!(!e||h.config.minDate&&e<h.config.minDate.getFullYear()||h.config.maxDate&&e>h.config.maxDate.getFullYear())){var t=h.currentYear!==e;h.currentYear=e||h.currentYear,h.config.maxDate&&h.currentYear===h.config.maxDate.getFullYear()?h.currentMonth=Math.min(h.config.maxDate.getMonth(),h.currentMonth):h.config.minDate&&h.currentYear===h.config.minDate.getFullYear()&&(h.currentMonth=Math.max(h.config.minDate.getMonth(),h.currentMonth)),t&&(h.redraw(),ue("onYearChange"),Y())}}function B(e,t){void 0===t&&(t=!0);var n=h.parseDate(e,void 0,t);if(h.config.minDate&&n&&D(n,h.config.minDate,void 0!==t?t:!h.minDateHasTime)<0||h.config.maxDate&&n&&D(n,h.config.maxDate,void 0!==t?t:!h.maxDateHasTime)>0)return!1;if(0===h.config.enable.length&&0===h.config.disable.length)return!0;if(void 0===n)return!1;for(var a=h.config.enable.length>0,i=a?h.config.enable:h.config.disable,o=0,r=void 0;o<i.length;o++){if("function"==typeof(r=i[o])&&r(n))return a;if(r instanceof Date&&void 0!==n&&r.getTime()===n.getTime())return a;if("string"==typeof r&&void 0!==n){var s=h.parseDate(r,void 0,!0);return s&&s.getTime()===n.getTime()?a:!a}if("object"==typeof r&&void 0!==n&&r.from&&r.to&&n.getTime()>=r.from.getTime()&&n.getTime()<=r.to.getTime())return a}return!a}function K(e){return void 0!==h.daysContainer&&-1===e.className.indexOf("hidden")&&h.daysContainer.contains(e)}function X(e){var t=e.target===h._input,n=h.config.allowInput,a=h.isOpen&&(!n||!t),i=h.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return h.setDate(h._input.value,!0,e.target===h.altInput?h.config.altFormat:h.config.dateFormat),e.target.blur();h.open()}else if(q(e.target)||a||i){var o=!!h.timeContainer&&h.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(e.preventDefault(),w(),re()):se(e);break;case 27:e.preventDefault(),re();break;case 8:case 46:t&&!h.config.allowInput&&(e.preventDefault(),h.clear());break;case 37:case 39:if(o||t)h.hourElement&&h.hourElement.focus();else if(e.preventDefault(),void 0!==h.daysContainer&&(!1===n||document.activeElement&&K(document.activeElement))){var r=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),J(r),V(F(1),0)):V(void 0,r)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;h.daysContainer&&void 0!==e.target.$i||e.target===h.input||e.target===h.altInput?e.ctrlKey?(e.stopPropagation(),z(h.currentYear-s),V(F(1),0)):o||V(void 0,7*s):e.target===h.currentYearElement?z(h.currentYear-s):h.config.enableTime&&(!o&&h.hourElement&&h.hourElement.focus(),w(e),h._debouncedChange());break;case 9:if(o){var c=[h.hourElement,h.minuteElement,h.secondElement,h.amPM].concat(h.pluginElements).filter((function(e){return e})),l=c.indexOf(e.target);if(-1!==l){var d=c[l+(e.shiftKey?-1:1)];e.preventDefault(),(d||h._input).focus()}}else!h.config.noCalendar&&h.daysContainer&&h.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),h._input.focus())}}if(void 0!==h.amPM&&e.target===h.amPM)switch(e.key){case h.l10n.amPM[0].charAt(0):case h.l10n.amPM[0].charAt(0).toLowerCase():h.amPM.textContent=h.l10n.amPM[0],A(),he();break;case h.l10n.amPM[1].charAt(0):case h.l10n.amPM[1].charAt(0).toLowerCase():h.amPM.textContent=h.l10n.amPM[1],A(),he()}(t||q(e.target))&&ue("onKeyDown",e)}function Z(e){if(1===h.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():h.days.firstElementChild.dateObj.getTime(),n=h.parseDate(h.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,h.selectedDates[0].getTime()),i=Math.max(t,h.selectedDates[0].getTime()),o=!1,r=0,s=0,c=a;c<i;c+=864e5)B(new Date(c),!0)||(o=o||c>a&&c<i,c<n&&(!r||c>r)?r=c:c>n&&(!s||c<s)&&(s=c));for(var l=0;l<h.config.showMonths;l++)for(var d=h.daysContainer.children[l],u=function(a,i){var c,l,u,f=d.children[a],g=f.dateObj.getTime(),m=r>0&&g<r||s>0&&g>s;return m?(f.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){f.classList.remove(e)})),"continue"):o&&!m?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){f.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=h.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&g===n?f.classList.add("startRange"):n>t&&g===n&&f.classList.add("endRange"),g>=r&&(0===s||g<=s)&&(l=n,u=t,(c=g)>Math.min(l,u)&&c<Math.max(l,u))&&f.classList.add("inRange"))))},f=0,g=d.children.length;f<g;f++)u(f)}}function ee(){!h.isOpen||h.config.static||h.config.inline||ie()}function te(){h.setDate(void 0!==h.config.minDate?new Date(h.config.minDate.getTime()):new Date,!0),O(),he()}function ne(e){return function(t){var n=h.config["_"+e+"Date"]=h.parseDate(t,h.config.dateFormat),a=h.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(h["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),h.selectedDates&&(h.selectedDates=h.selectedDates.filter((function(e){return B(e)})),h.selectedDates.length||"min"!==e||_(n),he()),h.daysContainer&&(oe(),void 0!==n?h.currentYearElement[e]=n.getFullYear().toString():h.currentYearElement.removeAttribute(e),h.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function ae(){"object"!=typeof h.config.locale&&void 0===y.l10ns[h.config.locale]&&h.config.errorHandler(new Error("flatpickr: invalid locale "+h.config.locale)),h.l10n=e({},y.l10ns.default,"object"==typeof h.config.locale?h.config.locale:"default"!==h.config.locale?y.l10ns[h.config.locale]:void 0),p.K="("+h.l10n.amPM[0]+"|"+h.l10n.amPM[1]+"|"+h.l10n.amPM[0].toLowerCase()+"|"+h.l10n.amPM[1].toLowerCase()+")",void 0===e({},m,JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===y.defaultConfig.time_24hr&&(h.config.time_24hr=h.l10n.time_24hr),h.formatDate=b(h),h.parseDate=v({config:h.config,l10n:h.l10n})}function ie(e){if(void 0!==h.calendarContainer){ue("onPreCalendarPosition");var t=e||h._positionElement,n=Array.prototype.reduce.call(h.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),a=h.calendarContainer.offsetWidth,i=h.config.position.split(" "),o=i[0],r=i.length>1?i[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,d="above"===o||"below"!==o&&l<n&&s.top>n,u=window.pageYOffset+s.top+(d?-n-2:t.offsetHeight+2);if(c(h.calendarContainer,"arrowTop",!d),c(h.calendarContainer,"arrowBottom",d),!h.config.inline){var f=window.pageXOffset+s.left-(null!=r&&"center"===r?(a-s.width)/2:0),g=window.document.body.offsetWidth-(window.pageXOffset+s.right),m=f+a>window.document.body.offsetWidth,p=g+a>window.document.body.offsetWidth;if(c(h.calendarContainer,"rightMost",m),!h.config.static)if(h.calendarContainer.style.top=u+"px",m)if(p){var b=document.styleSheets[0];if(void 0===b)return;var v=window.document.body.offsetWidth,D=Math.max(0,v/2-a/2),C=b.cssRules.length,M="{left:"+s.left+"px;right:auto;}";c(h.calendarContainer,"rightMost",!1),c(h.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+M,C),h.calendarContainer.style.left=D+"px",h.calendarContainer.style.right="auto"}else h.calendarContainer.style.left="auto",h.calendarContainer.style.right=g+"px";else h.calendarContainer.style.left=f+"px",h.calendarContainer.style.right="auto"}}}function oe(){h.config.noCalendar||h.isMobile||(me(),H())}function re(){h._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(h.close,0):h.close()}function se(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,a=h.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(a.getMonth()<h.currentMonth||a.getMonth()>h.currentMonth+h.config.showMonths-1)&&"range"!==h.config.mode;if(h.selectedDateElem=n,"single"===h.config.mode)h.selectedDates=[a];else if("multiple"===h.config.mode){var o=ge(a);o?h.selectedDates.splice(parseInt(o),1):h.selectedDates.push(a)}else"range"===h.config.mode&&(2===h.selectedDates.length&&h.clear(!1,!1),h.latestSelectedDateObj=a,h.selectedDates.push(a),0!==D(a,h.selectedDates[0],!0)&&h.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(A(),i){var r=h.currentYear!==a.getFullYear();h.currentYear=a.getFullYear(),h.currentMonth=a.getMonth(),r&&(ue("onYearChange"),Y()),ue("onMonthChange")}me(),H(),he(),h.config.enableTime&&setTimeout((function(){return h.showTimeInput=!0}),50),i||"range"===h.config.mode||1!==h.config.showMonths?void 0!==h.selectedDateElem&&void 0===h.hourElement&&h.selectedDateElem&&h.selectedDateElem.focus():N(n),void 0!==h.hourElement&&void 0!==h.hourElement&&h.hourElement.focus(),h.config.closeOnSelect&&("single"===h.config.mode&&!h.config.enableTime||"range"===h.config.mode&&2===h.selectedDates.length&&!h.config.enableTime)&&re(),k()}}h.parseDate=v({config:h.config,l10n:h.l10n}),h._handlers=[],h.pluginElements=[],h.loadedPlugins=[],h._bind=x,h._setHoursFromDate=_,h._positionCalendar=ie,h.changeMonth=J,h.changeYear=z,h.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),h.input.value="",void 0!==h.altInput&&(h.altInput.value=""),void 0!==h.mobileInput&&(h.mobileInput.value=""),h.selectedDates=[],h.latestSelectedDateObj=void 0,!0===t&&(h.currentYear=h._initialDate.getFullYear(),h.currentMonth=h._initialDate.getMonth()),h.showTimeInput=!1,!0===h.config.enableTime&&O(),h.redraw(),e&&ue("onChange")},h.close=function(){h.isOpen=!1,h.isMobile||(void 0!==h.calendarContainer&&h.calendarContainer.classList.remove("open"),void 0!==h._input&&h._input.classList.remove("active")),ue("onClose")},h._createElement=l,h.destroy=function(){void 0!==h.config&&ue("onDestroy");for(var e=h._handlers.length;e--;){var t=h._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(h._handlers=[],h.mobileInput)h.mobileInput.parentNode&&h.mobileInput.parentNode.removeChild(h.mobileInput),h.mobileInput=void 0;else if(h.calendarContainer&&h.calendarContainer.parentNode)if(h.config.static&&h.calendarContainer.parentNode){var n=h.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else h.calendarContainer.parentNode.removeChild(h.calendarContainer);h.altInput&&(h.input.type="text",h.altInput.parentNode&&h.altInput.parentNode.removeChild(h.altInput),delete h.altInput),h.input&&(h.input.type=h.input._type,h.input.classList.remove("flatpickr-input"),h.input.removeAttribute("readonly"),h.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete h[e]}catch(t){}}))},h.isEnabled=B,h.jumpToDate=I,h.open=function(e,t){if(void 0===t&&(t=h._positionElement),!0===h.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==h.mobileInput&&(h.mobileInput.focus(),h.mobileInput.click()),void ue("onOpen");if(!h._input.disabled&&!h.config.inline){var n=h.isOpen;h.isOpen=!0,n||(h.calendarContainer.classList.add("open"),h._input.classList.add("active"),ue("onOpen"),ie(t)),!0===h.config.enableTime&&!0===h.config.noCalendar&&(0===h.selectedDates.length&&te(),!1!==h.config.allowInput||void 0!==e&&h.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return h.hourElement.select()}),50))}},h.redraw=oe,h.set=function(e,n){if(null!==e&&"object"==typeof e)for(var a in Object.assign(h.config,e),e)void 0!==ce[a]&&ce[a].forEach((function(e){return e()}));else h.config[e]=n,void 0!==ce[e]?ce[e].forEach((function(e){return e()})):t.indexOf(e)>-1&&(h.config[e]=s(n));h.redraw(),he(!1)},h.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=h.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return h.clear(t);le(e,n),h.showTimeInput=h.selectedDates.length>0,h.latestSelectedDateObj=h.selectedDates[h.selectedDates.length-1],h.redraw(),I(),_(),0===h.selectedDates.length&&h.clear(!1),he(t),t&&ue("onChange")},h.toggle=function(e){if(!0===h.isOpen)return h.close();h.open(e)};var ce={locale:[ae,W],showMonths:[Q,M,$],minDate:[I],maxDate:[I]};function le(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return h.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[h.parseDate(e,t)];else if("string"==typeof e)switch(h.config.mode){case"single":case"time":n=[h.parseDate(e,t)];break;case"multiple":n=e.split(h.config.conjunction).map((function(e){return h.parseDate(e,t)}));break;case"range":n=e.split(h.l10n.rangeSeparator).map((function(e){return h.parseDate(e,t)}))}else h.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));h.selectedDates=n.filter((function(e){return e instanceof Date&&B(e,!1)})),"range"===h.config.mode&&h.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function de(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?h.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:h.parseDate(e.from,void 0),to:h.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ue(e,t){if(void 0!==h.config){var n=h.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](h.selectedDates,h.input.value,h,t);"onChange"===e&&(h.input.dispatchEvent(fe("change")),h.input.dispatchEvent(fe("input")))}}function fe(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<h.selectedDates.length;t++)if(0===D(h.selectedDates[t],e))return""+t;return!1}function me(){h.config.noCalendar||h.isMobile||!h.monthNav||(h.yearElements.forEach((function(e,t){var n=new Date(h.currentYear,h.currentMonth,1);n.setMonth(h.currentMonth+t),h.config.showMonths>1||"static"===h.config.monthSelectorType?h.monthElements[t].textContent=g(n.getMonth(),h.config.shorthandCurrentMonth,h.l10n)+" ":h.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),h._hidePrevMonthArrow=void 0!==h.config.minDate&&(h.currentYear===h.config.minDate.getFullYear()?h.currentMonth<=h.config.minDate.getMonth():h.currentYear<h.config.minDate.getFullYear()),h._hideNextMonthArrow=void 0!==h.config.maxDate&&(h.currentYear===h.config.maxDate.getFullYear()?h.currentMonth+1>h.config.maxDate.getMonth():h.currentYear>h.config.maxDate.getFullYear()))}function pe(e){return h.selectedDates.map((function(t){return h.formatDate(t,e)})).filter((function(e,t,n){return"range"!==h.config.mode||h.config.enableTime||n.indexOf(e)===t})).join("range"!==h.config.mode?h.config.conjunction:h.l10n.rangeSeparator)}function he(e){void 0===e&&(e=!0),void 0!==h.mobileInput&&h.mobileFormatStr&&(h.mobileInput.value=void 0!==h.latestSelectedDateObj?h.formatDate(h.latestSelectedDateObj,h.mobileFormatStr):""),h.input.value=pe(h.config.dateFormat),void 0!==h.altInput&&(h.altInput.value=pe(h.config.altFormat)),!1!==e&&ue("onValueUpdate")}function be(e){var t=h.prevMonthNav.contains(e.target),n=h.nextMonthNav.contains(e.target);t||n?J(t?-1:1):h.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?h.changeYear(h.currentYear+1):e.target.classList.contains("arrowDown")&&h.changeYear(h.currentYear-1)}return function(){h.element=h.input=f,h.isOpen=!1,function(){var a=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=e({},m,JSON.parse(JSON.stringify(f.dataset||{}))),o={};h.config.parseDate=i.parseDate,h.config.formatDate=i.formatDate,Object.defineProperty(h.config,"enable",{get:function(){return h.config._enable},set:function(e){h.config._enable=de(e)}}),Object.defineProperty(h.config,"disable",{get:function(){return h.config._disable},set:function(e){h.config._disable=de(e)}});var r="time"===i.mode;i.dateFormat||!i.enableTime&&!r||(o.dateFormat=i.noCalendar||r?"H:i"+(i.enableSeconds?":S":""):(y.defaultConfig.dateFormat||n.dateFormat)+" H:i"+(i.enableSeconds?":S":"")),i.altInput&&(i.enableTime||r)&&!i.altFormat&&(o.altFormat=i.noCalendar||r?"h:i"+(i.enableSeconds?":S K":" K"):(y.defaultConfig.altFormat||n.altFormat)+" h:i"+(i.enableSeconds?":S":"")+" K"),i.altInputClass||(h.config.altInputClass=h.input.className+" "+h.config.altInputClass),Object.defineProperty(h.config,"minDate",{get:function(){return h.config._minDate},set:ne("min")}),Object.defineProperty(h.config,"maxDate",{get:function(){return h.config._maxDate},set:ne("max")});var c=function(e){return function(t){h.config["min"===e?"_minTime":"_maxTime"]=h.parseDate(t,"H:i:S")}};Object.defineProperty(h.config,"minTime",{get:function(){return h.config._minTime},set:c("min")}),Object.defineProperty(h.config,"maxTime",{get:function(){return h.config._maxTime},set:c("max")}),"time"===i.mode&&(h.config.noCalendar=!0,h.config.enableTime=!0),Object.assign(h.config,o,i);for(var l=0;l<a.length;l++)h.config[a[l]]=!0===h.config[a[l]]||"true"===h.config[a[l]];for(t.filter((function(e){return void 0!==h.config[e]})).forEach((function(e){h.config[e]=s(h.config[e]||[]).map(C)})),h.isMobile=!h.config.disableMobile&&!h.config.inline&&"single"===h.config.mode&&!h.config.disable.length&&!h.config.enable.length&&!h.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=0;l<h.config.plugins.length;l++){var d=h.config.plugins[l](h)||{};for(var u in d)t.indexOf(u)>-1?h.config[u]=s(d[u]).map(C).concat(h.config[u]):void 0===i[u]&&(h.config[u]=d[u])}ue("onParseConfig")}(),ae(),h.input=h.config.wrap?f.querySelector("[data-input]"):f,h.input?(h.input._type=h.input.type,h.input.type="text",h.input.classList.add("flatpickr-input"),h._input=h.input,h.config.altInput&&(h.altInput=l(h.input.nodeName,h.config.altInputClass),h._input=h.altInput,h.altInput.placeholder=h.input.placeholder,h.altInput.disabled=h.input.disabled,h.altInput.required=h.input.required,h.altInput.tabIndex=h.input.tabIndex,h.altInput.type="text",h.input.setAttribute("type","hidden"),!h.config.static&&h.input.parentNode&&h.input.parentNode.insertBefore(h.altInput,h.input.nextSibling)),h.config.allowInput||h._input.setAttribute("readonly","readonly"),h._positionElement=h.config.positionElement||h._input):h.config.errorHandler(new Error("Invalid input element specified")),function(){h.selectedDates=[],h.now=h.parseDate(h.config.now)||new Date;var e=h.config.defaultDate||("INPUT"!==h.input.nodeName&&"TEXTAREA"!==h.input.nodeName||!h.input.placeholder||h.input.value!==h.input.placeholder?h.input.value:null);e&&le(e,h.config.dateFormat),h._initialDate=h.selectedDates.length>0?h.selectedDates[0]:h.config.minDate&&h.config.minDate.getTime()>h.now.getTime()?h.config.minDate:h.config.maxDate&&h.config.maxDate.getTime()<h.now.getTime()?h.config.maxDate:h.now,h.currentYear=h._initialDate.getFullYear(),h.currentMonth=h._initialDate.getMonth(),h.selectedDates.length>0&&(h.latestSelectedDateObj=h.selectedDates[0]),void 0!==h.config.minTime&&(h.config.minTime=h.parseDate(h.config.minTime,"H:i")),void 0!==h.config.maxTime&&(h.config.maxTime=h.parseDate(h.config.maxTime,"H:i")),h.minDateHasTime=!!h.config.minDate&&(h.config.minDate.getHours()>0||h.config.minDate.getMinutes()>0||h.config.minDate.getSeconds()>0),h.maxDateHasTime=!!h.config.maxDate&&(h.config.maxDate.getHours()>0||h.config.maxDate.getMinutes()>0||h.config.maxDate.getSeconds()>0),Object.defineProperty(h,"showTimeInput",{get:function(){return h._showTimeInput},set:function(e){h._showTimeInput=e,h.calendarContainer&&c(h.calendarContainer,"showTimeInput",e),h.isOpen&&ie()}})}(),h.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=h.currentMonth),void 0===t&&(t=h.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:h.l10n.daysInMonth[e]}},h.isMobile||function(){var e=window.document.createDocumentFragment();if(h.calendarContainer=l("div","flatpickr-calendar"),h.calendarContainer.tabIndex=-1,!h.config.noCalendar){if(e.appendChild((h.monthNav=l("div","flatpickr-months"),h.yearElements=[],h.monthElements=[],h.prevMonthNav=l("span","flatpickr-prev-month"),h.prevMonthNav.innerHTML=h.config.prevArrow,h.nextMonthNav=l("span","flatpickr-next-month"),h.nextMonthNav.innerHTML=h.config.nextArrow,Q(),Object.defineProperty(h,"_hidePrevMonthArrow",{get:function(){return h.__hidePrevMonthArrow},set:function(e){h.__hidePrevMonthArrow!==e&&(c(h.prevMonthNav,"flatpickr-disabled",e),h.__hidePrevMonthArrow=e)}}),Object.defineProperty(h,"_hideNextMonthArrow",{get:function(){return h.__hideNextMonthArrow},set:function(e){h.__hideNextMonthArrow!==e&&(c(h.nextMonthNav,"flatpickr-disabled",e),h.__hideNextMonthArrow=e)}}),h.currentYearElement=h.yearElements[0],me(),h.monthNav)),h.innerContainer=l("div","flatpickr-innerContainer"),h.config.weekNumbers){var t=function(){h.calendarContainer.classList.add("hasWeeks");var e=l("div","flatpickr-weekwrapper");e.appendChild(l("span","flatpickr-weekday",h.l10n.weekAbbreviation));var t=l("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,a=t.weekNumbers;h.innerContainer.appendChild(n),h.weekNumbers=a,h.weekWrapper=n}h.rContainer=l("div","flatpickr-rContainer"),h.rContainer.appendChild($()),h.daysContainer||(h.daysContainer=l("div","flatpickr-days"),h.daysContainer.tabIndex=-1),H(),h.rContainer.appendChild(h.daysContainer),h.innerContainer.appendChild(h.rContainer),e.appendChild(h.innerContainer)}h.config.enableTime&&e.appendChild(function(){h.calendarContainer.classList.add("hasTime"),h.config.noCalendar&&h.calendarContainer.classList.add("noCalendar"),h.timeContainer=l("div","flatpickr-time"),h.timeContainer.tabIndex=-1;var e=l("span","flatpickr-time-separator",":"),t=u("flatpickr-hour",{"aria-label":h.l10n.hourAriaLabel});h.hourElement=t.getElementsByTagName("input")[0];var n=u("flatpickr-minute",{"aria-label":h.l10n.minuteAriaLabel});if(h.minuteElement=n.getElementsByTagName("input")[0],h.hourElement.tabIndex=h.minuteElement.tabIndex=-1,h.hourElement.value=i(h.latestSelectedDateObj?h.latestSelectedDateObj.getHours():h.config.time_24hr?h.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(h.config.defaultHour)),h.minuteElement.value=i(h.latestSelectedDateObj?h.latestSelectedDateObj.getMinutes():h.config.defaultMinute),h.hourElement.setAttribute("step",h.config.hourIncrement.toString()),h.minuteElement.setAttribute("step",h.config.minuteIncrement.toString()),h.hourElement.setAttribute("min",h.config.time_24hr?"0":"1"),h.hourElement.setAttribute("max",h.config.time_24hr?"23":"12"),h.minuteElement.setAttribute("min","0"),h.minuteElement.setAttribute("max","59"),h.timeContainer.appendChild(t),h.timeContainer.appendChild(e),h.timeContainer.appendChild(n),h.config.time_24hr&&h.timeContainer.classList.add("time24hr"),h.config.enableSeconds){h.timeContainer.classList.add("hasSeconds");var a=u("flatpickr-second");h.secondElement=a.getElementsByTagName("input")[0],h.secondElement.value=i(h.latestSelectedDateObj?h.latestSelectedDateObj.getSeconds():h.config.defaultSeconds),h.secondElement.setAttribute("step",h.minuteElement.getAttribute("step")),h.secondElement.setAttribute("min","0"),h.secondElement.setAttribute("max","59"),h.timeContainer.appendChild(l("span","flatpickr-time-separator",":")),h.timeContainer.appendChild(a)}return h.config.time_24hr||(h.amPM=l("span","flatpickr-am-pm",h.l10n.amPM[o((h.latestSelectedDateObj?h.hourElement.value:h.config.defaultHour)>11)]),h.amPM.title=h.l10n.toggleTitle,h.amPM.tabIndex=-1,h.timeContainer.appendChild(h.amPM)),h.timeContainer}()),c(h.calendarContainer,"rangeMode","range"===h.config.mode),c(h.calendarContainer,"animate",!0===h.config.animate),c(h.calendarContainer,"multiMonth",h.config.showMonths>1),h.calendarContainer.appendChild(e);var r=void 0!==h.config.appendTo&&void 0!==h.config.appendTo.nodeType;if((h.config.inline||h.config.static)&&(h.calendarContainer.classList.add(h.config.inline?"inline":"static"),h.config.inline&&(!r&&h.element.parentNode?h.element.parentNode.insertBefore(h.calendarContainer,h._input.nextSibling):void 0!==h.config.appendTo&&h.config.appendTo.appendChild(h.calendarContainer)),h.config.static)){var s=l("div","flatpickr-wrapper");h.element.parentNode&&h.element.parentNode.insertBefore(s,h.element),s.appendChild(h.element),h.altInput&&s.appendChild(h.altInput),s.appendChild(h.calendarContainer)}h.config.static||h.config.inline||(void 0!==h.config.appendTo?h.config.appendTo:window.document.body).appendChild(h.calendarContainer)}(),function(){if(h.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(h.element.querySelectorAll("[data-"+e+"]"),(function(t){return x(t,"click",h[e])}))})),h.isMobile)!function(){var e=h.config.enableTime?h.config.noCalendar?"time":"datetime-local":"date";h.mobileInput=l("input",h.input.className+" flatpickr-mobile"),h.mobileInput.step=h.input.getAttribute("step")||"any",h.mobileInput.tabIndex=1,h.mobileInput.type=e,h.mobileInput.disabled=h.input.disabled,h.mobileInput.required=h.input.required,h.mobileInput.placeholder=h.input.placeholder,h.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",h.selectedDates.length>0&&(h.mobileInput.defaultValue=h.mobileInput.value=h.formatDate(h.selectedDates[0],h.mobileFormatStr)),h.config.minDate&&(h.mobileInput.min=h.formatDate(h.config.minDate,"Y-m-d")),h.config.maxDate&&(h.mobileInput.max=h.formatDate(h.config.maxDate,"Y-m-d")),h.input.type="hidden",void 0!==h.altInput&&(h.altInput.type="hidden");try{h.input.parentNode&&h.input.parentNode.insertBefore(h.mobileInput,h.input.nextSibling)}catch(t){}x(h.mobileInput,"change",(function(e){h.setDate(e.target.value,!1,h.mobileFormatStr),ue("onChange"),ue("onClose")}))}();else{var e=r(ee,50);h._debouncedChange=r(k,300),h.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(h.daysContainer,"mouseover",(function(e){"range"===h.config.mode&&Z(e.target)})),x(window.document.body,"keydown",X),h.config.inline||h.config.static||x(window,"resize",e),void 0!==window.ontouchstart?x(window.document,"touchstart",G):x(window.document,"mousedown",E(G)),x(window.document,"focus",G,{capture:!0}),!0===h.config.clickOpens&&(x(h._input,"focus",h.open),x(h._input,"mousedown",E(h.open))),void 0!==h.daysContainer&&(x(h.monthNav,"mousedown",E(be)),x(h.monthNav,["keyup","increment"],P),x(h.daysContainer,"mousedown",E(se))),void 0!==h.timeContainer&&void 0!==h.minuteElement&&void 0!==h.hourElement&&(x(h.timeContainer,["increment"],w),x(h.timeContainer,"blur",w,{capture:!0}),x(h.timeContainer,"mousedown",E(T)),x([h.hourElement,h.minuteElement],["focus","click"],(function(e){return e.target.select()})),void 0!==h.secondElement&&x(h.secondElement,"focus",(function(){return h.secondElement&&h.secondElement.select()})),void 0!==h.amPM&&x(h.amPM,"mousedown",E((function(e){w(e),k()}))))}}(),(h.selectedDates.length||h.config.noCalendar)&&(h.config.enableTime&&_(h.config.noCalendar?h.latestSelectedDateObj||h.config.minDate:void 0),he(!1)),M(),h.showTimeInput=h.selectedDates.length>0||h.config.noCalendar;var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!h.isMobile&&a&&ie(),ue("onReady")}(),h}function M(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),a=[],i=0;i<n.length;i++){var o=n[i];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=C(o,t||{}),a.push(o._flatpickr)}catch(r){console.error(r)}}return 1===a.length?a[0]:a}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},i=0,o=t;i<o.length;i++){var r=o[i];a(r)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return M(this,e)},HTMLElement.prototype.flatpickr=function(e){return M([this],e)});var y=function(e,t){return"string"==typeof e?M(window.document.querySelectorAll(e),t):e instanceof Node?M([e],t):M(e,t)};return y.defaultConfig={},y.l10ns={en:e({},a),default:e({},a)},y.localize=function(t){y.l10ns.default=e({},y.l10ns.default,t)},y.setDefaults=function(t){y.defaultConfig=e({},y.defaultConfig,t)},y.parseDate=v({}),y.formatDate=b({}),y.compareDates=D,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return M(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=y),y}()}}]);